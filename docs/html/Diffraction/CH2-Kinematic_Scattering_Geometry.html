
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kinematic Scattering Geometry &#8212; MSE672: Introduction to TEM Spring 2021 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<p><strong>Chapter 2:</strong><a class="reference external" href="Ch2-Diffraction.ipynb">Diffraction</a></p>
<hr style="height:1px;border-top:4px solid #FF8200" /><div class="section" id="Kinematic-Scattering-Geometry">
<h1>Kinematic Scattering Geometry<a class="headerlink" href="#Kinematic-Scattering-Geometry" title="Permalink to this headline">¶</a></h1>
<p>part of</p>
<p><a class="reference external" href="_Analysis_of_Transmission_Electron_Microscope_Data.ipynb">Analysis of Transmission Electron Microscope Data</a></p>
<p>by Gerd Duscher, 2019/2020</p>
<p>Microscopy Facilities Joint Institute of Advanced Materials The University of Tennessee, Knoxville</p>
<p>Model based analysis and quantification of data acquired with transmission electron microscopes</p>
<div class="section" id="Import-numerical-and-plotting-python-packages">
<h2>Import numerical and plotting python packages<a class="headerlink" href="#Import-numerical-and-plotting-python-packages" title="Permalink to this headline">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># import matplotlib and numpy</span>
<span class="c1">#                       use &quot;inline&quot; instead of &quot;notebook&quot; for non-interactive plots</span>
<span class="o">%</span><span class="k">pylab</span> --no-import-all notebook

<span class="c1"># 3D plotting package used</span>
<span class="kn">from</span> <span class="nn">mpl_toolkits.mplot3d</span> <span class="kn">import</span> <span class="n">Axes3D</span> <span class="c1"># 3D plotting</span>

<span class="c1"># additional package</span>
<span class="kn">import</span>  <span class="nn">itertools</span>
<span class="kn">import</span> <span class="nn">scipy.constants</span> <span class="k">as</span> <span class="nn">const</span>

<span class="c1"># Import libraries from the book</span>
<span class="kn">import</span> <span class="nn">pyTEMlib</span>
<span class="kn">import</span> <span class="nn">pyTEMlib.KinsCat</span> <span class="k">as</span> <span class="nn">ks</span>         <span class="c1"># Kinematic sCattering Library</span>
                             <span class="c1"># Atomic form factors from Kirklands book</span>

<span class="nb">print</span><span class="p">(</span><span class="n">pyTEMlib</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Populating the interactive namespace from numpy and matplotlib
Using KinsCat library version  0.5  by G.Duscher
spglib not installed; Symmetry functions of spglib disabled
0.2020.11.0
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
C:\Users\gduscher\Anaconda3\lib\site-packages\pyUSID\viz\__init__.py:16: FutureWarning: Please use sidpy.viz.plot_utils instead of pyUSID.viz.plot_utils. pyUSID.plot_utils will be removed in a future release of pyUSID
  warn(&#39;Please use sidpy.viz.plot_utils instead of pyUSID.viz.plot_utils. &#39;
</pre></div></div>
</div>
<div class="section" id="Define-silicon-crystal">
<h3>Define silicon crystal<a class="headerlink" href="#Define-silicon-crystal" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#Initialize the dictionary with all the input</span>
<span class="n">tags</span> <span class="o">=</span> <span class="n">ks</span><span class="o">.</span><span class="n">structure_by_name</span><span class="p">(</span><span class="s1">&#39;Silicon&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">tags</span><span class="p">[</span><span class="s1">&#39;elements&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tags</span><span class="p">[</span><span class="s1">&#39;base&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;Si&#39;]
[&#39;Si&#39;, &#39;Si&#39;, &#39;Si&#39;, &#39;Si&#39;, &#39;Si&#39;, &#39;Si&#39;, &#39;Si&#39;, &#39;Si&#39;]
[(0.0, 0.0, 0.0), (0.5, 0.0, 0.5), (0.5, 0.5, 0.0), (0.0, 0.5, 0.5), [0.25, 0.25, 0.25], [0.75, 0.25, 0.75], [0.75, 0.75, 0.25], [0.25, 0.75, 0.75]]
</pre></div></div>
</div>
</div>
</div>
<div class="section" id="Reciprocal-Space">
<h2>Reciprocal Space<a class="headerlink" href="#Reciprocal-Space" title="Permalink to this headline">¶</a></h2>
<div class="section" id="Wavelength-and-Magnitude-of-Incident-Wavevector">
<h3>Wavelength and Magnitude of Incident Wavevector<a class="headerlink" href="#Wavelength-and-Magnitude-of-Incident-Wavevector" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">acceleration_voltage_V</span> <span class="o">=</span> <span class="mf">200.0</span> <span class="o">*</span><span class="mf">1000.0</span> <span class="c1">#V</span>

<span class="n">wave_length_nm</span>  <span class="o">=</span> <span class="n">ks</span><span class="o">.</span><span class="n">get_wavelength</span><span class="p">(</span><span class="n">acceleration_voltage_V</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The wavelength for </span><span class="si">{0:.1f}</span><span class="s1">kV is : </span><span class="si">{1:.5f}</span><span class="s1">pm&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">acceleration_voltage_V</span><span class="o">/</span><span class="mf">1000.</span><span class="p">,</span><span class="n">wave_length_nm</span><span class="o">*</span><span class="mf">1000.</span><span class="p">))</span>

<span class="n">wave_vector_magnitude</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">wave_length_nm</span>
<span class="n">K0</span> <span class="o">=</span> <span class="n">wave_vector_magnitude</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The magnitude of the incident wavevector is </span><span class="si">{0:.1f}</span><span class="s1"> 1/nm&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">K0</span><span class="p">)</span> <span class="p">)</span>


</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The wavelength for 200.0kV is : 2.50793pm
The magnitude of the incident wavevector is 398.7 1/nm
</pre></div></div>
</div>
</div>
<div class="section" id="Reciprocal-Lattice-and-Incident-Wavevector">
<h3>Reciprocal Lattice and Incident Wavevector<a class="headerlink" href="#Reciprocal-Lattice-and-Incident-Wavevector" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">zone</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="c1">#Parallel to z-axis for simplicity</span>

<span class="c1">#Reciprocal Lattice</span>
<span class="c1"># We use the linear algebra package of numpy to invert the unit_cell &quot;matrix&quot;</span>
<span class="n">reciprocal_lattice</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">tags</span><span class="p">[</span><span class="s1">&#39;unit_cell&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">T</span> <span class="c1"># transposed of inverted unit_cell</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;reciprocal lattice</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">reciprocal_lattice</span><span class="p">)</span>

<span class="c1">#Incident wavevector in vacuum</span>
<span class="c1"># zone axis in global coordinate system</span>
<span class="n">zone_vector</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">zone</span><span class="p">,</span><span class="n">reciprocal_lattice</span><span class="p">)</span>
<span class="n">K0_unit_vector</span> <span class="o">=</span> <span class="n">zone_vector</span><span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">zone_vector</span><span class="p">)</span> <span class="c1"># incident unit wave vector</span>
<span class="n">K0_vector</span> <span class="o">=</span><span class="n">K0_unit_vector</span><span class="o">*</span><span class="n">K0</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Incident wavevector: &#39;</span><span class="p">,</span><span class="n">K0_vector</span><span class="p">,</span><span class="s1">&#39; in units of [1/nm]&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
reciprocal lattice
 [[1.764271 0.       0.      ]
 [0.       1.764271 0.      ]
 [0.       0.       1.764271]]
Incident wavevector:  [  0.           0.         116.43460684]  in units of [1/nm]
</pre></div></div>
</div>
</div>
<div class="section" id="2D-Plot-of-Unit-Cell-in-Reciprocal-Space">
<h3>2D Plot of Unit Cell in Reciprocal Space<a class="headerlink" href="#2D-Plot-of-Unit-Cell-in-Reciprocal-Space" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>

<span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">reciprocal_lattice</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">reciprocal_lattice</span><span class="p">[:,</span><span class="mi">2</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;h&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;l&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
/* Put everything inside the global mpl namespace */
/* global mpl */
window.mpl = {};

mpl.get_websocket_type = function () {
    if (typeof WebSocket !== 'undefined') {
        return WebSocket;
    } else if (typeof MozWebSocket !== 'undefined') {
        return MozWebSocket;
    } else {
        alert(
            'Your browser does not have WebSocket support. ' +
                'Please try Chrome, Safari or Firefox ≥ 6. ' +
                'Firefox 4 and 5 are also supported but you ' +
                'have to enable WebSockets in about:config.'
        );
    }
};

mpl.figure = function (figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = this.ws.binaryType !== undefined;

    if (!this.supports_binary) {
        var warnings = document.getElementById('mpl-warnings');
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent =
                'This browser does not support binary websocket messages. ' +
                'Performance may be slow.';
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = document.createElement('div');
    this.root.setAttribute('style', 'display: inline-block');
    this._root_extra_style(this.root);

    parent_element.appendChild(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen = function () {
        fig.send_message('supports_binary', { value: fig.supports_binary });
        fig.send_message('send_image_mode', {});
        if (fig.ratio !== 1) {
            fig.send_message('set_dpi_ratio', { dpi_ratio: fig.ratio });
        }
        fig.send_message('refresh', {});
    };

    this.imageObj.onload = function () {
        if (fig.image_mode === 'full') {
            // Full images could contain transparency (where diff images
            // almost always do), so we need to clear the canvas so that
            // there is no ghosting.
            fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
        }
        fig.context.drawImage(fig.imageObj, 0, 0);
    };

    this.imageObj.onunload = function () {
        fig.ws.close();
    };

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
};

mpl.figure.prototype._init_header = function () {
    var titlebar = document.createElement('div');
    titlebar.classList =
        'ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix';
    var titletext = document.createElement('div');
    titletext.classList = 'ui-dialog-title';
    titletext.setAttribute(
        'style',
        'width: 100%; text-align: center; padding: 3px;'
    );
    titlebar.appendChild(titletext);
    this.root.appendChild(titlebar);
    this.header = titletext;
};

mpl.figure.prototype._canvas_extra_style = function (_canvas_div) {};

mpl.figure.prototype._root_extra_style = function (_canvas_div) {};

mpl.figure.prototype._init_canvas = function () {
    var fig = this;

    var canvas_div = (this.canvas_div = document.createElement('div'));
    canvas_div.setAttribute(
        'style',
        'border: 1px solid #ddd;' +
            'box-sizing: content-box;' +
            'clear: both;' +
            'min-height: 1px;' +
            'min-width: 1px;' +
            'outline: 0;' +
            'overflow: hidden;' +
            'position: relative;' +
            'resize: both;'
    );

    function on_keyboard_event_closure(name) {
        return function (event) {
            return fig.key_event(event, name);
        };
    }

    canvas_div.addEventListener(
        'keydown',
        on_keyboard_event_closure('key_press')
    );
    canvas_div.addEventListener(
        'keyup',
        on_keyboard_event_closure('key_release')
    );

    this._canvas_extra_style(canvas_div);
    this.root.appendChild(canvas_div);

    var canvas = (this.canvas = document.createElement('canvas'));
    canvas.classList.add('mpl-canvas');
    canvas.setAttribute('style', 'box-sizing: content-box;');

    this.context = canvas.getContext('2d');

    var backingStore =
        this.context.backingStorePixelRatio ||
        this.context.webkitBackingStorePixelRatio ||
        this.context.mozBackingStorePixelRatio ||
        this.context.msBackingStorePixelRatio ||
        this.context.oBackingStorePixelRatio ||
        this.context.backingStorePixelRatio ||
        1;

    this.ratio = (window.devicePixelRatio || 1) / backingStore;
    if (this.ratio !== 1) {
        fig.send_message('set_dpi_ratio', { dpi_ratio: this.ratio });
    }

    var rubberband_canvas = (this.rubberband_canvas = document.createElement(
        'canvas'
    ));
    rubberband_canvas.setAttribute(
        'style',
        'box-sizing: content-box; position: absolute; left: 0; top: 0; z-index: 1;'
    );

    var resizeObserver = new ResizeObserver(function (entries) {
        var nentries = entries.length;
        for (var i = 0; i < nentries; i++) {
            var entry = entries[i];
            var width, height;
            if (entry.contentBoxSize) {
                if (entry.contentBoxSize instanceof Array) {
                    // Chrome 84 implements new version of spec.
                    width = entry.contentBoxSize[0].inlineSize;
                    height = entry.contentBoxSize[0].blockSize;
                } else {
                    // Firefox implements old version of spec.
                    width = entry.contentBoxSize.inlineSize;
                    height = entry.contentBoxSize.blockSize;
                }
            } else {
                // Chrome <84 implements even older version of spec.
                width = entry.contentRect.width;
                height = entry.contentRect.height;
            }

            // Keep the size of the canvas and rubber band canvas in sync with
            // the canvas container.
            if (entry.devicePixelContentBoxSize) {
                // Chrome 84 implements new version of spec.
                canvas.setAttribute(
                    'width',
                    entry.devicePixelContentBoxSize[0].inlineSize
                );
                canvas.setAttribute(
                    'height',
                    entry.devicePixelContentBoxSize[0].blockSize
                );
            } else {
                canvas.setAttribute('width', width * fig.ratio);
                canvas.setAttribute('height', height * fig.ratio);
            }
            canvas.setAttribute(
                'style',
                'width: ' + width + 'px; height: ' + height + 'px;'
            );

            rubberband_canvas.setAttribute('width', width);
            rubberband_canvas.setAttribute('height', height);

            // And update the size in Python. We ignore the initial 0/0 size
            // that occurs as the element is placed into the DOM, which should
            // otherwise not happen due to the minimum size styling.
            if (width != 0 && height != 0) {
                fig.request_resize(width, height);
            }
        }
    });
    resizeObserver.observe(canvas_div);

    function on_mouse_event_closure(name) {
        return function (event) {
            return fig.mouse_event(event, name);
        };
    }

    rubberband_canvas.addEventListener(
        'mousedown',
        on_mouse_event_closure('button_press')
    );
    rubberband_canvas.addEventListener(
        'mouseup',
        on_mouse_event_closure('button_release')
    );
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband_canvas.addEventListener(
        'mousemove',
        on_mouse_event_closure('motion_notify')
    );

    rubberband_canvas.addEventListener(
        'mouseenter',
        on_mouse_event_closure('figure_enter')
    );
    rubberband_canvas.addEventListener(
        'mouseleave',
        on_mouse_event_closure('figure_leave')
    );

    canvas_div.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        on_mouse_event_closure('scroll')(event);
    });

    canvas_div.appendChild(canvas);
    canvas_div.appendChild(rubberband_canvas);

    this.rubberband_context = rubberband_canvas.getContext('2d');
    this.rubberband_context.strokeStyle = '#000000';

    this._resize_canvas = function (width, height, forward) {
        if (forward) {
            canvas_div.style.width = width + 'px';
            canvas_div.style.height = height + 'px';
        }
    };

    // Disable right mouse context menu.
    this.rubberband_canvas.addEventListener('contextmenu', function (_e) {
        event.preventDefault();
        return false;
    });

    function set_focus() {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'mpl-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'mpl-button-group';
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'mpl-button-group';
            continue;
        }

        var button = (fig.buttons[name] = document.createElement('button'));
        button.classList = 'mpl-widget';
        button.setAttribute('role', 'button');
        button.setAttribute('aria-disabled', 'false');
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));

        var icon_img = document.createElement('img');
        icon_img.src = '_images/' + image + '.png';
        icon_img.srcset = '_images/' + image + '_large.png 2x';
        icon_img.alt = tooltip;
        button.appendChild(icon_img);

        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    var fmt_picker = document.createElement('select');
    fmt_picker.classList = 'mpl-widget';
    toolbar.appendChild(fmt_picker);
    this.format_dropdown = fmt_picker;

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = document.createElement('option');
        option.selected = fmt === mpl.default_extension;
        option.innerHTML = fmt;
        fmt_picker.appendChild(option);
    }

    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message';
    toolbar.appendChild(status_bar);
    this.message = status_bar;
};

mpl.figure.prototype.request_resize = function (x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', { width: x_pixels, height: y_pixels });
};

mpl.figure.prototype.send_message = function (type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
};

mpl.figure.prototype.send_draw_message = function () {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({ type: 'draw', figure_id: this.id }));
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
};

mpl.figure.prototype.handle_resize = function (fig, msg) {
    var size = msg['size'];
    if (size[0] !== fig.canvas.width || size[1] !== fig.canvas.height) {
        fig._resize_canvas(size[0], size[1], msg['forward']);
        fig.send_message('refresh', {});
    }
};

mpl.figure.prototype.handle_rubberband = function (fig, msg) {
    var x0 = msg['x0'] / fig.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / fig.ratio;
    var x1 = msg['x1'] / fig.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / fig.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0,
        0,
        fig.canvas.width / fig.ratio,
        fig.canvas.height / fig.ratio
    );

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
};

mpl.figure.prototype.handle_figure_label = function (fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
};

mpl.figure.prototype.handle_cursor = function (fig, msg) {
    var cursor = msg['cursor'];
    switch (cursor) {
        case 0:
            cursor = 'pointer';
            break;
        case 1:
            cursor = 'default';
            break;
        case 2:
            cursor = 'crosshair';
            break;
        case 3:
            cursor = 'move';
            break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
};

mpl.figure.prototype.handle_message = function (fig, msg) {
    fig.message.textContent = msg['message'];
};

mpl.figure.prototype.handle_draw = function (fig, _msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
};

mpl.figure.prototype.handle_image_mode = function (fig, msg) {
    fig.image_mode = msg['mode'];
};

mpl.figure.prototype.handle_history_buttons = function (fig, msg) {
    for (var key in msg) {
        if (!(key in fig.buttons)) {
            continue;
        }
        fig.buttons[key].disabled = !msg[key];
        fig.buttons[key].setAttribute('aria-disabled', !msg[key]);
    }
};

mpl.figure.prototype.handle_navigate_mode = function (fig, msg) {
    if (msg['mode'] === 'PAN') {
        fig.buttons['Pan'].classList.add('active');
        fig.buttons['Zoom'].classList.remove('active');
    } else if (msg['mode'] === 'ZOOM') {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.add('active');
    } else {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.remove('active');
    }
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Called whenever the canvas gets updated.
    this.send_message('ack', {});
};

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function (fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = 'image/png';

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src
                );
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data
            );
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        } else if (
            typeof evt.data === 'string' &&
            evt.data.slice(0, 21) === 'data:image/png;base64'
        ) {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig['handle_' + msg_type];
        } catch (e) {
            console.log(
                "No handler for the '" + msg_type + "' message type: ",
                msg
            );
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log(
                    "Exception inside the 'handler_" + msg_type + "' callback:",
                    e,
                    e.stack,
                    msg
                );
            }
        }
    };
};

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function (e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e) {
        e = window.event;
    }
    if (e.target) {
        targ = e.target;
    } else if (e.srcElement) {
        targ = e.srcElement;
    }
    if (targ.nodeType === 3) {
        // defeat Safari bug
        targ = targ.parentNode;
    }

    // pageX,Y are the mouse positions relative to the document
    var boundingRect = targ.getBoundingClientRect();
    var x = e.pageX - (boundingRect.left + document.body.scrollLeft);
    var y = e.pageY - (boundingRect.top + document.body.scrollTop);

    return { x: x, y: y };
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys(original) {
    return Object.keys(original).reduce(function (obj, key) {
        if (typeof original[key] !== 'object') {
            obj[key] = original[key];
        }
        return obj;
    }, {});
}

mpl.figure.prototype.mouse_event = function (event, name) {
    var canvas_pos = mpl.findpos(event);

    if (name === 'button_press') {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * this.ratio;
    var y = canvas_pos.y * this.ratio;

    this.send_message(name, {
        x: x,
        y: y,
        button: event.button,
        step: event.step,
        guiEvent: simpleKeys(event),
    });

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
};

mpl.figure.prototype._key_event_extra = function (_event, _name) {
    // Handle any extra behaviour associated with a key event
};

mpl.figure.prototype.key_event = function (event, name) {
    // Prevent repeat events
    if (name === 'key_press') {
        if (event.which === this._key) {
            return;
        } else {
            this._key = event.which;
        }
    }
    if (name === 'key_release') {
        this._key = null;
    }

    var value = '';
    if (event.ctrlKey && event.which !== 17) {
        value += 'ctrl+';
    }
    if (event.altKey && event.which !== 18) {
        value += 'alt+';
    }
    if (event.shiftKey && event.which !== 16) {
        value += 'shift+';
    }

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, { key: value, guiEvent: simpleKeys(event) });
    return false;
};

mpl.figure.prototype.toolbar_button_onclick = function (name) {
    if (name === 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message('toolbar_button', { name: name });
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function (tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis, CTRL fixes aspect", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";/* global mpl */

var comm_websocket_adapter = function (comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function () {
        comm.close();
    };
    ws.send = function (m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function (msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data']);
    });
    return ws;
};

mpl.mpl_figure_comm = function (comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = document.getElementById(id);
    var ws_proxy = comm_websocket_adapter(comm);

    function ondownload(figure, _format) {
        window.open(figure.canvas.toDataURL());
    }

    var fig = new mpl.figure(id, ws_proxy, ondownload, element);

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element;
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error('Failed to find cell for figure', id, fig);
        return;
    }
    fig.cell_info[0].output_area.element.one(
        'cleared',
        { fig: fig },
        fig._remove_fig_handler
    );
};

mpl.figure.prototype.handle_close = function (fig, msg) {
    var width = fig.canvas.width / fig.ratio;
    fig.cell_info[0].output_area.element.off(
        'cleared',
        fig._remove_fig_handler
    );

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable();
    fig.parent_element.innerHTML =
        '<img src="' + dataURL + '" width="' + width + '">';
    fig.close_ws(fig, msg);
};

mpl.figure.prototype.close_ws = function (fig, msg) {
    fig.send_message('closing', msg);
    // fig.ws.close()
};

mpl.figure.prototype.push_to_output = function (_remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width / this.ratio;
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] =
        '<img src="' + dataURL + '" width="' + width + '">';
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message('ack', {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () {
        fig.push_to_output();
    }, 1000);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'btn-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'btn-group';
    var button;
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'btn-group';
            continue;
        }

        button = fig.buttons[name] = document.createElement('button');
        button.classList = 'btn btn-default';
        button.href = '#';
        button.title = name;
        button.innerHTML = '<i class="fa ' + image + ' fa-lg"></i>';
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));
        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    // Add the status bar.
    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message pull-right';
    toolbar.appendChild(status_bar);
    this.message = status_bar;

    // Add the close button to the window.
    var buttongrp = document.createElement('div');
    buttongrp.classList = 'btn-group inline pull-right';
    button = document.createElement('button');
    button.classList = 'btn btn-mini btn-primary';
    button.href = '#';
    button.title = 'Stop Interaction';
    button.innerHTML = '<i class="fa fa-power-off icon-remove icon-large"></i>';
    button.addEventListener('click', function (_evt) {
        fig.handle_close(fig, {});
    });
    button.addEventListener(
        'mouseover',
        on_mouseover_closure('Stop Interaction')
    );
    buttongrp.appendChild(button);
    var titlebar = this.root.querySelector('.ui-dialog-titlebar');
    titlebar.insertBefore(buttongrp, titlebar.firstChild);
};

mpl.figure.prototype._remove_fig_handler = function (event) {
    var fig = event.data.fig;
    fig.close_ws(fig, {});
};

mpl.figure.prototype._root_extra_style = function (el) {
    el.style.boxSizing = 'content-box'; // override notebook setting of border-box.
};

mpl.figure.prototype._canvas_extra_style = function (el) {
    // this is important to make the div 'focusable
    el.setAttribute('tabindex', 0);
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    } else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }
};

mpl.figure.prototype._key_event_extra = function (event, _name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager) {
        manager = IPython.keyboard_manager;
    }

    // Check for shift+enter
    if (event.shiftKey && event.which === 13) {
        this.canvas_div.blur();
        // select the cell after this one
        var index = IPython.notebook.find_cell_index(this.cell_info[0]);
        IPython.notebook.select(index + 1);
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    fig.ondownload(fig, null);
};

mpl.find_output_cell = function (html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i = 0; i < ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code') {
            for (var j = 0; j < cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] === html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
};

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel !== null) {
    IPython.notebook.kernel.comm_manager.register_target(
        'matplotlib',
        mpl.mpl_figure_comm
    );
}

</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<img src="data:image/png;base64,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sCNHKv1vAFAZXj+XjAGY0QAcHR0tOb9169ZYvXr1go+57bbboq+vr+TcW2+9FYVCIaanpyNifgDu2bOn5JpXX301GhoaznkvvgN4EfwXLMDF8fq5ZAzADAbg5fQj4O8SoDL4HRaAi+P1c8no7wwGYMT8m0A2b95ccq61tfW8bwJpbW0tOU8SHXwAAAfBSURBVLdp06az3gTyyCOPlFzT0dHhTSBLwbvYAC6O188lob8zGYCnPwZm165dMT4+Ht3d3dHY2BhHjx6NiIienp7YsGFD8frTHwPz9NNPx/j4eOzateusj4EZGRmJmpqa2L59e0xMTMT27dt9DMxS8TlWABfH6+eS0N+ZDMCI+Q+CXrlyZdTX10dbW1sMDw8X/15nZ2e0t7eXXH/o0KG46667or6+Ppqbmxf8IOjXXnstVq9eHXV1ddHS0hKDg4OLuicBWoTFfpL9H/9Y6TsGuDx4/bzk9HdGA/ByJECLVO7/y9KLF0Apr5+XlP42AJMI0EU4fnz+d1NWrSp9AVu1av78zEyl7xDg8uT185LR3wZgEgFKMDc3/xEFR47M/9W71QDK4/Uzmf42AJMIEADkR38bgEkECADyo78NwCQCBAD50d8GYBIBAoD86G8DMIkAAUB+9LcBmESAACA/+tsATCJAAJAf/W0AJpmZmYlCoRBTU1MxOzvrcDgcDocjg2NqaioKhULMVPGHZxuACU4HyOFwOBwOR37H1NRUpadExRiACU6dOhVTU1MxMzNT8f+ayfE4PaB9B9VzX02H597zX63H5fTcz8zMxNTUVJw6darSU6JiDEAqZnbW72BUiue+cjz3leX5rxzP/eXFAKRivBhUjue+cjz3leX5rxzP/eXFAKRivBhUjue+cjz3leX5rxzP/eXFAKRiTpw4Eb29vXHixIlK30rV8dxXjue+sjz/leO5v7wYgAAAVcYABACoMgYgAECVMQABAKqMAQgAUGUMQJbUjh07orm5ORoaGqKtrS0OHz583usPHToUbW1t0dDQELfeemu89NJL39OdXnkW89wfPHhwwf9N0sTExPd4x1eG4eHhWLt2bdx8881RKBRiaGjogo+R+0tjsc+93F86fX19cffdd8ff/d3fxY033hg///nP4+OPP77g42S/cgxAlszevXujrq4udu7cGePj49HV1RWNjY1x7NixBa//7LPP4pprromurq4YHx+PnTt3Rl1dXezbt+97vvP8Lfa5P12En3zySUxPTxePb7/99nu+8/y98cYb8eyzz8bg4GBZI0TuL53FPvdyf+k8/PDDMTAwEB999FF88MEH8eijj0ZTU1P8z//8zzkfI/uVZQCyZNasWRObNm0qOdfS0hI9PT0LXv/MM89ES0tLybknn3wy7rnnniW7xyvVYp/700V4/Pjx7+P2qkY5I0Tul8ZiBqDcX3r//d//HYVCIYaHh895jexXlgHIkjh58mTU1NTE/v37S85v2bIl7r///gUfc99998WWLVtKzu3fvz9qa2vjm2++WbJ7vdJczHN/ugibm5vjpptuigcffDDefPPN7+N2r2jljBC5XxqLGYByf+n913/9VxQKhfjwww/PeY3sV5YByJL4/PPPo1AoxMjISMn5bdu2xe23377gY2677bbYtm1bybmRkZEoFArxxRdfLNm9Xmku5rn/+OOP4+WXX4733nsvRkdHY/PmzbFs2bLz/tc7F1bOCJH7pVHOcy/3S2Nubi4ee+yxuPfee897nexXlgHIkjg9QkZHR0vOb926NVavXr3gY2677bbo6+srOffWW29FoVCI6enpJbvXK83FPPcLWbt2bTz22GOX+vaqSrkDUO4vvXLfgPNdcp/ul7/8ZaxcuTKmpqbOe53sV5YByJLwI+DKuZjnfiFbt2496/dzWBw/Aq6cix2Acp/m3/7t3+If//Ef47PPPrvgtbJfWQYgS2bNmjWxefPmknOtra3nfRNIa2tryblNmzb5heCLsNjnfiHr1q2LBx544FLfWlUp900gcn/pXewAlPuLMzc3F//6r/8a//AP/xCTk5NlPUb2K8sAZMmc/iiSXbt2xfj4eHR3d0djY2McPXo0IiJ6enpiw4YNxetPfyTA008/HePj47Fr1y4fCXCRFvvcv/DCCzE0NBSTk5Px0UcfRU9PTxQKhRgcHKzUv0K2vvrqqxgbG4uxsbEoFArR398fY2NjxY/gkfuls9jnXu4vnc2bN8d1110Xhw4dKvlInf/93/8tXiP7lxcDkCW1Y8eOWLlyZdTX10dbW1vJL1d3dnZGe3t7yfWHDh2Ku+66K+rr66O5udmHgiZYzHP//PPPx6pVq+Lqq6+O66+/Pu699954/fXXK3DX+TvXhwt3dnZGhNwvpcU+93J/6Sz0vBcKhRgYGCheI/uXFwMQAKDKGIAAAFXGAAQAqDIGIABAlTEAAQCqjAEIAFBlDEAAgCpjAAIAVBkDEOAM7e3t0dXVVenbAFhSBiDAGQxAoBoYgABnMACBamAAApyhvb09nnrqqfj3f//3uP766+Pv//7vo7e3t9K3BXBJGYAAZ2hvb49rr702nnvuuZicnIz//M//jGXLlsWf/vSnSt8awCVjAAKcob29Pe69996Sc//0T/8U//Ef/1GhOwK49AxAgDO0t7fHL3/5y5Jz//Iv/xIbN26s0B0BXHoGIMAZFnoTyM9//vPo7OyszA0BLAEDEOAMBiBQDQxAgDMYgEA1MAABzmAAAtXAAAQAqDIGIABAlTEAAQCqjAEIAFBlDEAAgCpjAAIAVBkDEACgyhiAAABVxgAEAKgyBiAAQJUxAAEAqowBCABQZQxAAIAq839bYoACF7ydGwAAAABJRU5ErkJggg==" width="640"></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(-0.08821354978896603,
 1.8524845455682866,
 -0.08821354978896603,
 1.8524845455682866)
</pre></div></div>
</div>
</div>
<div class="section" id="2D-plot-of-Reciprocal-Lattice">
<h3>2D plot of Reciprocal Lattice<a class="headerlink" href="#2D-plot-of-Reciprocal-Lattice" title="Permalink to this headline">¶</a></h3>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">hkl_max</span> <span class="o">=</span> <span class="mi">9</span>
<span class="n">h</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">hkl_max</span><span class="p">,</span><span class="n">hkl_max</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">hkl_max</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># all evaluated single Miller Indices</span>
<span class="n">hkl</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">h</span><span class="p">,</span><span class="n">h</span><span class="p">)</span> <span class="p">))</span> <span class="c1"># all evaluated Miller indices</span>

<span class="c1"># Plot 2D</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">hkl</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">hkl</span><span class="p">[:,</span><span class="mi">2</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;h&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;l&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
/* Put everything inside the global mpl namespace */
/* global mpl */
window.mpl = {};

mpl.get_websocket_type = function () {
    if (typeof WebSocket !== 'undefined') {
        return WebSocket;
    } else if (typeof MozWebSocket !== 'undefined') {
        return MozWebSocket;
    } else {
        alert(
            'Your browser does not have WebSocket support. ' +
                'Please try Chrome, Safari or Firefox ≥ 6. ' +
                'Firefox 4 and 5 are also supported but you ' +
                'have to enable WebSockets in about:config.'
        );
    }
};

mpl.figure = function (figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = this.ws.binaryType !== undefined;

    if (!this.supports_binary) {
        var warnings = document.getElementById('mpl-warnings');
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent =
                'This browser does not support binary websocket messages. ' +
                'Performance may be slow.';
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = document.createElement('div');
    this.root.setAttribute('style', 'display: inline-block');
    this._root_extra_style(this.root);

    parent_element.appendChild(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen = function () {
        fig.send_message('supports_binary', { value: fig.supports_binary });
        fig.send_message('send_image_mode', {});
        if (fig.ratio !== 1) {
            fig.send_message('set_dpi_ratio', { dpi_ratio: fig.ratio });
        }
        fig.send_message('refresh', {});
    };

    this.imageObj.onload = function () {
        if (fig.image_mode === 'full') {
            // Full images could contain transparency (where diff images
            // almost always do), so we need to clear the canvas so that
            // there is no ghosting.
            fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
        }
        fig.context.drawImage(fig.imageObj, 0, 0);
    };

    this.imageObj.onunload = function () {
        fig.ws.close();
    };

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
};

mpl.figure.prototype._init_header = function () {
    var titlebar = document.createElement('div');
    titlebar.classList =
        'ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix';
    var titletext = document.createElement('div');
    titletext.classList = 'ui-dialog-title';
    titletext.setAttribute(
        'style',
        'width: 100%; text-align: center; padding: 3px;'
    );
    titlebar.appendChild(titletext);
    this.root.appendChild(titlebar);
    this.header = titletext;
};

mpl.figure.prototype._canvas_extra_style = function (_canvas_div) {};

mpl.figure.prototype._root_extra_style = function (_canvas_div) {};

mpl.figure.prototype._init_canvas = function () {
    var fig = this;

    var canvas_div = (this.canvas_div = document.createElement('div'));
    canvas_div.setAttribute(
        'style',
        'border: 1px solid #ddd;' +
            'box-sizing: content-box;' +
            'clear: both;' +
            'min-height: 1px;' +
            'min-width: 1px;' +
            'outline: 0;' +
            'overflow: hidden;' +
            'position: relative;' +
            'resize: both;'
    );

    function on_keyboard_event_closure(name) {
        return function (event) {
            return fig.key_event(event, name);
        };
    }

    canvas_div.addEventListener(
        'keydown',
        on_keyboard_event_closure('key_press')
    );
    canvas_div.addEventListener(
        'keyup',
        on_keyboard_event_closure('key_release')
    );

    this._canvas_extra_style(canvas_div);
    this.root.appendChild(canvas_div);

    var canvas = (this.canvas = document.createElement('canvas'));
    canvas.classList.add('mpl-canvas');
    canvas.setAttribute('style', 'box-sizing: content-box;');

    this.context = canvas.getContext('2d');

    var backingStore =
        this.context.backingStorePixelRatio ||
        this.context.webkitBackingStorePixelRatio ||
        this.context.mozBackingStorePixelRatio ||
        this.context.msBackingStorePixelRatio ||
        this.context.oBackingStorePixelRatio ||
        this.context.backingStorePixelRatio ||
        1;

    this.ratio = (window.devicePixelRatio || 1) / backingStore;
    if (this.ratio !== 1) {
        fig.send_message('set_dpi_ratio', { dpi_ratio: this.ratio });
    }

    var rubberband_canvas = (this.rubberband_canvas = document.createElement(
        'canvas'
    ));
    rubberband_canvas.setAttribute(
        'style',
        'box-sizing: content-box; position: absolute; left: 0; top: 0; z-index: 1;'
    );

    var resizeObserver = new ResizeObserver(function (entries) {
        var nentries = entries.length;
        for (var i = 0; i < nentries; i++) {
            var entry = entries[i];
            var width, height;
            if (entry.contentBoxSize) {
                if (entry.contentBoxSize instanceof Array) {
                    // Chrome 84 implements new version of spec.
                    width = entry.contentBoxSize[0].inlineSize;
                    height = entry.contentBoxSize[0].blockSize;
                } else {
                    // Firefox implements old version of spec.
                    width = entry.contentBoxSize.inlineSize;
                    height = entry.contentBoxSize.blockSize;
                }
            } else {
                // Chrome <84 implements even older version of spec.
                width = entry.contentRect.width;
                height = entry.contentRect.height;
            }

            // Keep the size of the canvas and rubber band canvas in sync with
            // the canvas container.
            if (entry.devicePixelContentBoxSize) {
                // Chrome 84 implements new version of spec.
                canvas.setAttribute(
                    'width',
                    entry.devicePixelContentBoxSize[0].inlineSize
                );
                canvas.setAttribute(
                    'height',
                    entry.devicePixelContentBoxSize[0].blockSize
                );
            } else {
                canvas.setAttribute('width', width * fig.ratio);
                canvas.setAttribute('height', height * fig.ratio);
            }
            canvas.setAttribute(
                'style',
                'width: ' + width + 'px; height: ' + height + 'px;'
            );

            rubberband_canvas.setAttribute('width', width);
            rubberband_canvas.setAttribute('height', height);

            // And update the size in Python. We ignore the initial 0/0 size
            // that occurs as the element is placed into the DOM, which should
            // otherwise not happen due to the minimum size styling.
            if (width != 0 && height != 0) {
                fig.request_resize(width, height);
            }
        }
    });
    resizeObserver.observe(canvas_div);

    function on_mouse_event_closure(name) {
        return function (event) {
            return fig.mouse_event(event, name);
        };
    }

    rubberband_canvas.addEventListener(
        'mousedown',
        on_mouse_event_closure('button_press')
    );
    rubberband_canvas.addEventListener(
        'mouseup',
        on_mouse_event_closure('button_release')
    );
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband_canvas.addEventListener(
        'mousemove',
        on_mouse_event_closure('motion_notify')
    );

    rubberband_canvas.addEventListener(
        'mouseenter',
        on_mouse_event_closure('figure_enter')
    );
    rubberband_canvas.addEventListener(
        'mouseleave',
        on_mouse_event_closure('figure_leave')
    );

    canvas_div.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        on_mouse_event_closure('scroll')(event);
    });

    canvas_div.appendChild(canvas);
    canvas_div.appendChild(rubberband_canvas);

    this.rubberband_context = rubberband_canvas.getContext('2d');
    this.rubberband_context.strokeStyle = '#000000';

    this._resize_canvas = function (width, height, forward) {
        if (forward) {
            canvas_div.style.width = width + 'px';
            canvas_div.style.height = height + 'px';
        }
    };

    // Disable right mouse context menu.
    this.rubberband_canvas.addEventListener('contextmenu', function (_e) {
        event.preventDefault();
        return false;
    });

    function set_focus() {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'mpl-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'mpl-button-group';
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'mpl-button-group';
            continue;
        }

        var button = (fig.buttons[name] = document.createElement('button'));
        button.classList = 'mpl-widget';
        button.setAttribute('role', 'button');
        button.setAttribute('aria-disabled', 'false');
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));

        var icon_img = document.createElement('img');
        icon_img.src = '_images/' + image + '.png';
        icon_img.srcset = '_images/' + image + '_large.png 2x';
        icon_img.alt = tooltip;
        button.appendChild(icon_img);

        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    var fmt_picker = document.createElement('select');
    fmt_picker.classList = 'mpl-widget';
    toolbar.appendChild(fmt_picker);
    this.format_dropdown = fmt_picker;

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = document.createElement('option');
        option.selected = fmt === mpl.default_extension;
        option.innerHTML = fmt;
        fmt_picker.appendChild(option);
    }

    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message';
    toolbar.appendChild(status_bar);
    this.message = status_bar;
};

mpl.figure.prototype.request_resize = function (x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', { width: x_pixels, height: y_pixels });
};

mpl.figure.prototype.send_message = function (type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
};

mpl.figure.prototype.send_draw_message = function () {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({ type: 'draw', figure_id: this.id }));
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
};

mpl.figure.prototype.handle_resize = function (fig, msg) {
    var size = msg['size'];
    if (size[0] !== fig.canvas.width || size[1] !== fig.canvas.height) {
        fig._resize_canvas(size[0], size[1], msg['forward']);
        fig.send_message('refresh', {});
    }
};

mpl.figure.prototype.handle_rubberband = function (fig, msg) {
    var x0 = msg['x0'] / fig.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / fig.ratio;
    var x1 = msg['x1'] / fig.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / fig.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0,
        0,
        fig.canvas.width / fig.ratio,
        fig.canvas.height / fig.ratio
    );

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
};

mpl.figure.prototype.handle_figure_label = function (fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
};

mpl.figure.prototype.handle_cursor = function (fig, msg) {
    var cursor = msg['cursor'];
    switch (cursor) {
        case 0:
            cursor = 'pointer';
            break;
        case 1:
            cursor = 'default';
            break;
        case 2:
            cursor = 'crosshair';
            break;
        case 3:
            cursor = 'move';
            break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
};

mpl.figure.prototype.handle_message = function (fig, msg) {
    fig.message.textContent = msg['message'];
};

mpl.figure.prototype.handle_draw = function (fig, _msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
};

mpl.figure.prototype.handle_image_mode = function (fig, msg) {
    fig.image_mode = msg['mode'];
};

mpl.figure.prototype.handle_history_buttons = function (fig, msg) {
    for (var key in msg) {
        if (!(key in fig.buttons)) {
            continue;
        }
        fig.buttons[key].disabled = !msg[key];
        fig.buttons[key].setAttribute('aria-disabled', !msg[key]);
    }
};

mpl.figure.prototype.handle_navigate_mode = function (fig, msg) {
    if (msg['mode'] === 'PAN') {
        fig.buttons['Pan'].classList.add('active');
        fig.buttons['Zoom'].classList.remove('active');
    } else if (msg['mode'] === 'ZOOM') {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.add('active');
    } else {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.remove('active');
    }
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Called whenever the canvas gets updated.
    this.send_message('ack', {});
};

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function (fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = 'image/png';

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src
                );
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data
            );
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        } else if (
            typeof evt.data === 'string' &&
            evt.data.slice(0, 21) === 'data:image/png;base64'
        ) {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig['handle_' + msg_type];
        } catch (e) {
            console.log(
                "No handler for the '" + msg_type + "' message type: ",
                msg
            );
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log(
                    "Exception inside the 'handler_" + msg_type + "' callback:",
                    e,
                    e.stack,
                    msg
                );
            }
        }
    };
};

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function (e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e) {
        e = window.event;
    }
    if (e.target) {
        targ = e.target;
    } else if (e.srcElement) {
        targ = e.srcElement;
    }
    if (targ.nodeType === 3) {
        // defeat Safari bug
        targ = targ.parentNode;
    }

    // pageX,Y are the mouse positions relative to the document
    var boundingRect = targ.getBoundingClientRect();
    var x = e.pageX - (boundingRect.left + document.body.scrollLeft);
    var y = e.pageY - (boundingRect.top + document.body.scrollTop);

    return { x: x, y: y };
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys(original) {
    return Object.keys(original).reduce(function (obj, key) {
        if (typeof original[key] !== 'object') {
            obj[key] = original[key];
        }
        return obj;
    }, {});
}

mpl.figure.prototype.mouse_event = function (event, name) {
    var canvas_pos = mpl.findpos(event);

    if (name === 'button_press') {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * this.ratio;
    var y = canvas_pos.y * this.ratio;

    this.send_message(name, {
        x: x,
        y: y,
        button: event.button,
        step: event.step,
        guiEvent: simpleKeys(event),
    });

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
};

mpl.figure.prototype._key_event_extra = function (_event, _name) {
    // Handle any extra behaviour associated with a key event
};

mpl.figure.prototype.key_event = function (event, name) {
    // Prevent repeat events
    if (name === 'key_press') {
        if (event.which === this._key) {
            return;
        } else {
            this._key = event.which;
        }
    }
    if (name === 'key_release') {
        this._key = null;
    }

    var value = '';
    if (event.ctrlKey && event.which !== 17) {
        value += 'ctrl+';
    }
    if (event.altKey && event.which !== 18) {
        value += 'alt+';
    }
    if (event.shiftKey && event.which !== 16) {
        value += 'shift+';
    }

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, { key: value, guiEvent: simpleKeys(event) });
    return false;
};

mpl.figure.prototype.toolbar_button_onclick = function (name) {
    if (name === 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message('toolbar_button', { name: name });
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function (tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis, CTRL fixes aspect", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";/* global mpl */

var comm_websocket_adapter = function (comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function () {
        comm.close();
    };
    ws.send = function (m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function (msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data']);
    });
    return ws;
};

mpl.mpl_figure_comm = function (comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = document.getElementById(id);
    var ws_proxy = comm_websocket_adapter(comm);

    function ondownload(figure, _format) {
        window.open(figure.canvas.toDataURL());
    }

    var fig = new mpl.figure(id, ws_proxy, ondownload, element);

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element;
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error('Failed to find cell for figure', id, fig);
        return;
    }
    fig.cell_info[0].output_area.element.one(
        'cleared',
        { fig: fig },
        fig._remove_fig_handler
    );
};

mpl.figure.prototype.handle_close = function (fig, msg) {
    var width = fig.canvas.width / fig.ratio;
    fig.cell_info[0].output_area.element.off(
        'cleared',
        fig._remove_fig_handler
    );

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable();
    fig.parent_element.innerHTML =
        '<img src="' + dataURL + '" width="' + width + '">';
    fig.close_ws(fig, msg);
};

mpl.figure.prototype.close_ws = function (fig, msg) {
    fig.send_message('closing', msg);
    // fig.ws.close()
};

mpl.figure.prototype.push_to_output = function (_remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width / this.ratio;
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] =
        '<img src="' + dataURL + '" width="' + width + '">';
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message('ack', {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () {
        fig.push_to_output();
    }, 1000);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'btn-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'btn-group';
    var button;
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'btn-group';
            continue;
        }

        button = fig.buttons[name] = document.createElement('button');
        button.classList = 'btn btn-default';
        button.href = '#';
        button.title = name;
        button.innerHTML = '<i class="fa ' + image + ' fa-lg"></i>';
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));
        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    // Add the status bar.
    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message pull-right';
    toolbar.appendChild(status_bar);
    this.message = status_bar;

    // Add the close button to the window.
    var buttongrp = document.createElement('div');
    buttongrp.classList = 'btn-group inline pull-right';
    button = document.createElement('button');
    button.classList = 'btn btn-mini btn-primary';
    button.href = '#';
    button.title = 'Stop Interaction';
    button.innerHTML = '<i class="fa fa-power-off icon-remove icon-large"></i>';
    button.addEventListener('click', function (_evt) {
        fig.handle_close(fig, {});
    });
    button.addEventListener(
        'mouseover',
        on_mouseover_closure('Stop Interaction')
    );
    buttongrp.appendChild(button);
    var titlebar = this.root.querySelector('.ui-dialog-titlebar');
    titlebar.insertBefore(buttongrp, titlebar.firstChild);
};

mpl.figure.prototype._remove_fig_handler = function (event) {
    var fig = event.data.fig;
    fig.close_ws(fig, {});
};

mpl.figure.prototype._root_extra_style = function (el) {
    el.style.boxSizing = 'content-box'; // override notebook setting of border-box.
};

mpl.figure.prototype._canvas_extra_style = function (el) {
    // this is important to make the div 'focusable
    el.setAttribute('tabindex', 0);
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    } else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }
};

mpl.figure.prototype._key_event_extra = function (event, _name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager) {
        manager = IPython.keyboard_manager;
    }

    // Check for shift+enter
    if (event.shiftKey && event.which === 13) {
        this.canvas_div.blur();
        // select the cell after this one
        var index = IPython.notebook.find_cell_index(this.cell_info[0]);
        IPython.notebook.select(index + 1);
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    fig.ondownload(fig, null);
};

mpl.find_output_cell = function (html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i = 0; i < ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code') {
            for (var j = 0; j < cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] === html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
};

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel !== null) {
    IPython.notebook.kernel.comm_manager.register_target(
        'matplotlib',
        mpl.mpl_figure_comm
    );
}

</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<img src="data:image/png;base64,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" width="640"></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(-9.9, 9.9, -9.9, 9.9)
</pre></div></div>
</div>
</div>
<div class="section" id="2D-Plot-of-Reciprocal-Lattice">
<h3>2D Plot of Reciprocal Lattice<a class="headerlink" href="#2D-Plot-of-Reciprocal-Lattice" title="Permalink to this headline">¶</a></h3>
<p>We really do not need that many reflections in the z-direction, so we reduce those.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">hkl_max</span> <span class="o">=</span> <span class="mi">11</span>
<span class="n">h</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">hkl_max</span><span class="p">,</span> <span class="n">hkl_max</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">hkl_max</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># all evaluated single Miller Indices</span>
<span class="n">l</span> <span class="o">=</span>  <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># all evaluated single Miller Indices</span>
<span class="n">hkl</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">h</span><span class="p">,</span><span class="n">l</span><span class="p">)</span> <span class="p">))</span> <span class="c1"># all evaluated Miller indices</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">hkl</span><span class="p">,</span> <span class="n">reciprocal_lattice</span><span class="p">)</span> <span class="c1"># all evaluated reciprocal lattice points</span>
<span class="nb">print</span><span class="p">(</span><span class="n">hkl</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="mi">122</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>

<span class="c1"># Plot 2D</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">g</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">g</span><span class="p">[:,</span><span class="mi">2</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x [1/nm]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;z [1/nm]&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(2116, 3)
1.7642709957793206
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
/* Put everything inside the global mpl namespace */
/* global mpl */
window.mpl = {};

mpl.get_websocket_type = function () {
    if (typeof WebSocket !== 'undefined') {
        return WebSocket;
    } else if (typeof MozWebSocket !== 'undefined') {
        return MozWebSocket;
    } else {
        alert(
            'Your browser does not have WebSocket support. ' +
                'Please try Chrome, Safari or Firefox ≥ 6. ' +
                'Firefox 4 and 5 are also supported but you ' +
                'have to enable WebSockets in about:config.'
        );
    }
};

mpl.figure = function (figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = this.ws.binaryType !== undefined;

    if (!this.supports_binary) {
        var warnings = document.getElementById('mpl-warnings');
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent =
                'This browser does not support binary websocket messages. ' +
                'Performance may be slow.';
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = document.createElement('div');
    this.root.setAttribute('style', 'display: inline-block');
    this._root_extra_style(this.root);

    parent_element.appendChild(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen = function () {
        fig.send_message('supports_binary', { value: fig.supports_binary });
        fig.send_message('send_image_mode', {});
        if (fig.ratio !== 1) {
            fig.send_message('set_dpi_ratio', { dpi_ratio: fig.ratio });
        }
        fig.send_message('refresh', {});
    };

    this.imageObj.onload = function () {
        if (fig.image_mode === 'full') {
            // Full images could contain transparency (where diff images
            // almost always do), so we need to clear the canvas so that
            // there is no ghosting.
            fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
        }
        fig.context.drawImage(fig.imageObj, 0, 0);
    };

    this.imageObj.onunload = function () {
        fig.ws.close();
    };

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
};

mpl.figure.prototype._init_header = function () {
    var titlebar = document.createElement('div');
    titlebar.classList =
        'ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix';
    var titletext = document.createElement('div');
    titletext.classList = 'ui-dialog-title';
    titletext.setAttribute(
        'style',
        'width: 100%; text-align: center; padding: 3px;'
    );
    titlebar.appendChild(titletext);
    this.root.appendChild(titlebar);
    this.header = titletext;
};

mpl.figure.prototype._canvas_extra_style = function (_canvas_div) {};

mpl.figure.prototype._root_extra_style = function (_canvas_div) {};

mpl.figure.prototype._init_canvas = function () {
    var fig = this;

    var canvas_div = (this.canvas_div = document.createElement('div'));
    canvas_div.setAttribute(
        'style',
        'border: 1px solid #ddd;' +
            'box-sizing: content-box;' +
            'clear: both;' +
            'min-height: 1px;' +
            'min-width: 1px;' +
            'outline: 0;' +
            'overflow: hidden;' +
            'position: relative;' +
            'resize: both;'
    );

    function on_keyboard_event_closure(name) {
        return function (event) {
            return fig.key_event(event, name);
        };
    }

    canvas_div.addEventListener(
        'keydown',
        on_keyboard_event_closure('key_press')
    );
    canvas_div.addEventListener(
        'keyup',
        on_keyboard_event_closure('key_release')
    );

    this._canvas_extra_style(canvas_div);
    this.root.appendChild(canvas_div);

    var canvas = (this.canvas = document.createElement('canvas'));
    canvas.classList.add('mpl-canvas');
    canvas.setAttribute('style', 'box-sizing: content-box;');

    this.context = canvas.getContext('2d');

    var backingStore =
        this.context.backingStorePixelRatio ||
        this.context.webkitBackingStorePixelRatio ||
        this.context.mozBackingStorePixelRatio ||
        this.context.msBackingStorePixelRatio ||
        this.context.oBackingStorePixelRatio ||
        this.context.backingStorePixelRatio ||
        1;

    this.ratio = (window.devicePixelRatio || 1) / backingStore;
    if (this.ratio !== 1) {
        fig.send_message('set_dpi_ratio', { dpi_ratio: this.ratio });
    }

    var rubberband_canvas = (this.rubberband_canvas = document.createElement(
        'canvas'
    ));
    rubberband_canvas.setAttribute(
        'style',
        'box-sizing: content-box; position: absolute; left: 0; top: 0; z-index: 1;'
    );

    var resizeObserver = new ResizeObserver(function (entries) {
        var nentries = entries.length;
        for (var i = 0; i < nentries; i++) {
            var entry = entries[i];
            var width, height;
            if (entry.contentBoxSize) {
                if (entry.contentBoxSize instanceof Array) {
                    // Chrome 84 implements new version of spec.
                    width = entry.contentBoxSize[0].inlineSize;
                    height = entry.contentBoxSize[0].blockSize;
                } else {
                    // Firefox implements old version of spec.
                    width = entry.contentBoxSize.inlineSize;
                    height = entry.contentBoxSize.blockSize;
                }
            } else {
                // Chrome <84 implements even older version of spec.
                width = entry.contentRect.width;
                height = entry.contentRect.height;
            }

            // Keep the size of the canvas and rubber band canvas in sync with
            // the canvas container.
            if (entry.devicePixelContentBoxSize) {
                // Chrome 84 implements new version of spec.
                canvas.setAttribute(
                    'width',
                    entry.devicePixelContentBoxSize[0].inlineSize
                );
                canvas.setAttribute(
                    'height',
                    entry.devicePixelContentBoxSize[0].blockSize
                );
            } else {
                canvas.setAttribute('width', width * fig.ratio);
                canvas.setAttribute('height', height * fig.ratio);
            }
            canvas.setAttribute(
                'style',
                'width: ' + width + 'px; height: ' + height + 'px;'
            );

            rubberband_canvas.setAttribute('width', width);
            rubberband_canvas.setAttribute('height', height);

            // And update the size in Python. We ignore the initial 0/0 size
            // that occurs as the element is placed into the DOM, which should
            // otherwise not happen due to the minimum size styling.
            if (width != 0 && height != 0) {
                fig.request_resize(width, height);
            }
        }
    });
    resizeObserver.observe(canvas_div);

    function on_mouse_event_closure(name) {
        return function (event) {
            return fig.mouse_event(event, name);
        };
    }

    rubberband_canvas.addEventListener(
        'mousedown',
        on_mouse_event_closure('button_press')
    );
    rubberband_canvas.addEventListener(
        'mouseup',
        on_mouse_event_closure('button_release')
    );
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband_canvas.addEventListener(
        'mousemove',
        on_mouse_event_closure('motion_notify')
    );

    rubberband_canvas.addEventListener(
        'mouseenter',
        on_mouse_event_closure('figure_enter')
    );
    rubberband_canvas.addEventListener(
        'mouseleave',
        on_mouse_event_closure('figure_leave')
    );

    canvas_div.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        on_mouse_event_closure('scroll')(event);
    });

    canvas_div.appendChild(canvas);
    canvas_div.appendChild(rubberband_canvas);

    this.rubberband_context = rubberband_canvas.getContext('2d');
    this.rubberband_context.strokeStyle = '#000000';

    this._resize_canvas = function (width, height, forward) {
        if (forward) {
            canvas_div.style.width = width + 'px';
            canvas_div.style.height = height + 'px';
        }
    };

    // Disable right mouse context menu.
    this.rubberband_canvas.addEventListener('contextmenu', function (_e) {
        event.preventDefault();
        return false;
    });

    function set_focus() {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'mpl-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'mpl-button-group';
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'mpl-button-group';
            continue;
        }

        var button = (fig.buttons[name] = document.createElement('button'));
        button.classList = 'mpl-widget';
        button.setAttribute('role', 'button');
        button.setAttribute('aria-disabled', 'false');
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));

        var icon_img = document.createElement('img');
        icon_img.src = '_images/' + image + '.png';
        icon_img.srcset = '_images/' + image + '_large.png 2x';
        icon_img.alt = tooltip;
        button.appendChild(icon_img);

        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    var fmt_picker = document.createElement('select');
    fmt_picker.classList = 'mpl-widget';
    toolbar.appendChild(fmt_picker);
    this.format_dropdown = fmt_picker;

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = document.createElement('option');
        option.selected = fmt === mpl.default_extension;
        option.innerHTML = fmt;
        fmt_picker.appendChild(option);
    }

    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message';
    toolbar.appendChild(status_bar);
    this.message = status_bar;
};

mpl.figure.prototype.request_resize = function (x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', { width: x_pixels, height: y_pixels });
};

mpl.figure.prototype.send_message = function (type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
};

mpl.figure.prototype.send_draw_message = function () {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({ type: 'draw', figure_id: this.id }));
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
};

mpl.figure.prototype.handle_resize = function (fig, msg) {
    var size = msg['size'];
    if (size[0] !== fig.canvas.width || size[1] !== fig.canvas.height) {
        fig._resize_canvas(size[0], size[1], msg['forward']);
        fig.send_message('refresh', {});
    }
};

mpl.figure.prototype.handle_rubberband = function (fig, msg) {
    var x0 = msg['x0'] / fig.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / fig.ratio;
    var x1 = msg['x1'] / fig.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / fig.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0,
        0,
        fig.canvas.width / fig.ratio,
        fig.canvas.height / fig.ratio
    );

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
};

mpl.figure.prototype.handle_figure_label = function (fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
};

mpl.figure.prototype.handle_cursor = function (fig, msg) {
    var cursor = msg['cursor'];
    switch (cursor) {
        case 0:
            cursor = 'pointer';
            break;
        case 1:
            cursor = 'default';
            break;
        case 2:
            cursor = 'crosshair';
            break;
        case 3:
            cursor = 'move';
            break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
};

mpl.figure.prototype.handle_message = function (fig, msg) {
    fig.message.textContent = msg['message'];
};

mpl.figure.prototype.handle_draw = function (fig, _msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
};

mpl.figure.prototype.handle_image_mode = function (fig, msg) {
    fig.image_mode = msg['mode'];
};

mpl.figure.prototype.handle_history_buttons = function (fig, msg) {
    for (var key in msg) {
        if (!(key in fig.buttons)) {
            continue;
        }
        fig.buttons[key].disabled = !msg[key];
        fig.buttons[key].setAttribute('aria-disabled', !msg[key]);
    }
};

mpl.figure.prototype.handle_navigate_mode = function (fig, msg) {
    if (msg['mode'] === 'PAN') {
        fig.buttons['Pan'].classList.add('active');
        fig.buttons['Zoom'].classList.remove('active');
    } else if (msg['mode'] === 'ZOOM') {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.add('active');
    } else {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.remove('active');
    }
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Called whenever the canvas gets updated.
    this.send_message('ack', {});
};

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function (fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = 'image/png';

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src
                );
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data
            );
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        } else if (
            typeof evt.data === 'string' &&
            evt.data.slice(0, 21) === 'data:image/png;base64'
        ) {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig['handle_' + msg_type];
        } catch (e) {
            console.log(
                "No handler for the '" + msg_type + "' message type: ",
                msg
            );
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log(
                    "Exception inside the 'handler_" + msg_type + "' callback:",
                    e,
                    e.stack,
                    msg
                );
            }
        }
    };
};

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function (e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e) {
        e = window.event;
    }
    if (e.target) {
        targ = e.target;
    } else if (e.srcElement) {
        targ = e.srcElement;
    }
    if (targ.nodeType === 3) {
        // defeat Safari bug
        targ = targ.parentNode;
    }

    // pageX,Y are the mouse positions relative to the document
    var boundingRect = targ.getBoundingClientRect();
    var x = e.pageX - (boundingRect.left + document.body.scrollLeft);
    var y = e.pageY - (boundingRect.top + document.body.scrollTop);

    return { x: x, y: y };
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys(original) {
    return Object.keys(original).reduce(function (obj, key) {
        if (typeof original[key] !== 'object') {
            obj[key] = original[key];
        }
        return obj;
    }, {});
}

mpl.figure.prototype.mouse_event = function (event, name) {
    var canvas_pos = mpl.findpos(event);

    if (name === 'button_press') {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * this.ratio;
    var y = canvas_pos.y * this.ratio;

    this.send_message(name, {
        x: x,
        y: y,
        button: event.button,
        step: event.step,
        guiEvent: simpleKeys(event),
    });

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
};

mpl.figure.prototype._key_event_extra = function (_event, _name) {
    // Handle any extra behaviour associated with a key event
};

mpl.figure.prototype.key_event = function (event, name) {
    // Prevent repeat events
    if (name === 'key_press') {
        if (event.which === this._key) {
            return;
        } else {
            this._key = event.which;
        }
    }
    if (name === 'key_release') {
        this._key = null;
    }

    var value = '';
    if (event.ctrlKey && event.which !== 17) {
        value += 'ctrl+';
    }
    if (event.altKey && event.which !== 18) {
        value += 'alt+';
    }
    if (event.shiftKey && event.which !== 16) {
        value += 'shift+';
    }

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, { key: value, guiEvent: simpleKeys(event) });
    return false;
};

mpl.figure.prototype.toolbar_button_onclick = function (name) {
    if (name === 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message('toolbar_button', { name: name });
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function (tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis, CTRL fixes aspect", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";/* global mpl */

var comm_websocket_adapter = function (comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function () {
        comm.close();
    };
    ws.send = function (m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function (msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data']);
    });
    return ws;
};

mpl.mpl_figure_comm = function (comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = document.getElementById(id);
    var ws_proxy = comm_websocket_adapter(comm);

    function ondownload(figure, _format) {
        window.open(figure.canvas.toDataURL());
    }

    var fig = new mpl.figure(id, ws_proxy, ondownload, element);

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element;
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error('Failed to find cell for figure', id, fig);
        return;
    }
    fig.cell_info[0].output_area.element.one(
        'cleared',
        { fig: fig },
        fig._remove_fig_handler
    );
};

mpl.figure.prototype.handle_close = function (fig, msg) {
    var width = fig.canvas.width / fig.ratio;
    fig.cell_info[0].output_area.element.off(
        'cleared',
        fig._remove_fig_handler
    );

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable();
    fig.parent_element.innerHTML =
        '<img src="' + dataURL + '" width="' + width + '">';
    fig.close_ws(fig, msg);
};

mpl.figure.prototype.close_ws = function (fig, msg) {
    fig.send_message('closing', msg);
    // fig.ws.close()
};

mpl.figure.prototype.push_to_output = function (_remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width / this.ratio;
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] =
        '<img src="' + dataURL + '" width="' + width + '">';
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message('ack', {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () {
        fig.push_to_output();
    }, 1000);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'btn-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'btn-group';
    var button;
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'btn-group';
            continue;
        }

        button = fig.buttons[name] = document.createElement('button');
        button.classList = 'btn btn-default';
        button.href = '#';
        button.title = name;
        button.innerHTML = '<i class="fa ' + image + ' fa-lg"></i>';
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));
        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    // Add the status bar.
    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message pull-right';
    toolbar.appendChild(status_bar);
    this.message = status_bar;

    // Add the close button to the window.
    var buttongrp = document.createElement('div');
    buttongrp.classList = 'btn-group inline pull-right';
    button = document.createElement('button');
    button.classList = 'btn btn-mini btn-primary';
    button.href = '#';
    button.title = 'Stop Interaction';
    button.innerHTML = '<i class="fa fa-power-off icon-remove icon-large"></i>';
    button.addEventListener('click', function (_evt) {
        fig.handle_close(fig, {});
    });
    button.addEventListener(
        'mouseover',
        on_mouseover_closure('Stop Interaction')
    );
    buttongrp.appendChild(button);
    var titlebar = this.root.querySelector('.ui-dialog-titlebar');
    titlebar.insertBefore(buttongrp, titlebar.firstChild);
};

mpl.figure.prototype._remove_fig_handler = function (event) {
    var fig = event.data.fig;
    fig.close_ws(fig, {});
};

mpl.figure.prototype._root_extra_style = function (el) {
    el.style.boxSizing = 'content-box'; // override notebook setting of border-box.
};

mpl.figure.prototype._canvas_extra_style = function (el) {
    // this is important to make the div 'focusable
    el.setAttribute('tabindex', 0);
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    } else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }
};

mpl.figure.prototype._key_event_extra = function (event, _name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager) {
        manager = IPython.keyboard_manager;
    }

    // Check for shift+enter
    if (event.shiftKey && event.which === 13) {
        this.canvas_div.blur();
        // select the cell after this one
        var index = IPython.notebook.find_cell_index(this.cell_info[0]);
        IPython.notebook.select(index + 1);
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    fig.ondownload(fig, null);
};

mpl.find_output_cell = function (html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i = 0; i < ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code') {
            for (var j = 0; j < cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] === html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
};

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel !== null) {
    IPython.notebook.kernel.comm_manager.register_target(
        'matplotlib',
        mpl.mpl_figure_comm
    );
}

</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<img src="data:image/png;base64,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E/Pnz+947Nprr40LLrjggOceeeSR8Zvf/KY/4/WZgxXAu+66K1auXBnlcjnuvffeaGhoiLvuuqufE/aN7u6zFr+mERHz5s2L5cuXx2uvvRbz58+P4cOHx9VXX13tWIdt/fr1USqV4sUXX+z0+N133x2TJk2qUqrKWLp0aSxatCj+8Ic/xLPPPhvTp0+PkSNHxpYtW6odrc/sX4xefPHFKJVKnb4TH7H3388ZM2b0d7w+01UBXLhwYTz99NOxevXqWLJkSUyZMiVOO+20bH9zxp49e+Lb3/52/MVf/EXHY7X69ewvCmAf6eoHqve/XnnllU4fs379+jjppJMOWJjdDW9dXV08+uijFb2Pnjicez1YAdzfvffeG8ccc0wlovdKX97nQP+aftnh3Pc+ixYtilKplG2J2FcAV65c2enxOXPmxMknn1ylVP3j008/jZEjR8bPfvazakfpM90VwA8++KDT86655pq48MIL+zten+nJj9F88MEHUVdXF4sXL+6nVH3r+9//fowbNy5aW1s7HqvVr2d/UQD7yObNm+ONN9446LVz586O569fvz4mTZoU//iP/3jAX3cO9L8u7O29RvSuAL7wwgtRKpVi48aNlYjfY315nwP9a/plh3Pf+7z//vtRKpXipZde6ufUfaNIfwXclW9961sH/Pxjzor8V8BdOemkkzr9vFwuZs2aFSeccEK8/fbbnR6v1a9nf1EAq+D999+PiRMnxt/93d/FF198ccCf73vBwJf/q2bhwoVZv2CgNwXwF7/4RQwZMiTLv6o41ItAaulr2pWnnnoqSqVS1q+YPfvss+P666/v9Nipp55acy8C2V97e3uMHTs27rzzzmpH6TPdvQjknnvu6Xhs165d2b9ooCcFcMuWLVFfXx+PPPJIP6VKt2fPnvjBD34QY8aMif/7v//r8s9r8evZXxTAfrbvr33/8i//Mt5///1OL9HfZ99bhnzzm9+MVatWxXPPPRcnnHBClm8Z0tLSEuVyOe68884YNmxYlMvlKJfLHW8VsmTJkvjVr34Vq1evjrfeeivmz58fxxxzTNxwww1VTt47h7rPWvqa7rNy5cqYN29elMvlePvtt+Oxxx6LMWPGxCWXXFLtaEn2vQ3MQw89FGvXro2bbropjjrqqHj33XerHa1P3XLLLbF8+fJ4++2346WXXoqZM2fG0Ucfnf19bt++vePfv1Kp1DGj+/6jZO7cudHY2BiPP/54rF69Oq644oos3zbkYPe5ffv2uOWWW2LlypXxzjvvxLJly2LatGkxduzYrO7z+uuvj8bGxli+fHm3bxNWK1/PalAA+9mCBQu6/bmqL2tpaYmLL744hg4dGscdd1zMmjUry++IdfVmpKVSKZYtWxYRe98X8Rvf+EYMGzYsGhoaYvLkyfHzn/88Pv/88+oG76VD3WdE7XxN9/n9738f55xzTjQ2NsaQIUPi5JNPjubm5vjss8+qHS3Z/fffH+PGjYsjjzwypk6d2vG2E7Vk3/ul1dXVxZgxY+Kyyy6L119/vdqxki1btqzLfxebmpoi4o9vHDxq1Kior6+Pc889t+NVpTk52H3u2LEjZsyYESNGjIi6uro48cQTo6mpKd57771qx+6V7nblggULOp5TK1/PalAAAQAKRgEEACgYBRAAoGAUQACAglEAAQAKRgEEACgYBRAAoGAUQACAglEAAQAKRgEEatI777zT8ZsDpkyZUu043Zo+fXpHznK5XO04QEEogEBN2lcAn3vuudiyZUvH42vWrInLLrssxo0bF6VSKe67775uz2hqaorbbrutojk/+uijePnllxVAoF8pgEBN2lcA9y9VL7/8ctx6663x6KOPxqhRo7otgLt3747hw4fHypUrq5YVoFIUQGDA+/DDD2PkyJFx9913dzz20ksvRV1dXTzzzDNdfkxPStW4ceO6LYDPP/98fO1rX4vdu3d3nLV48eI477zzYujQoXH66ad3KocLFiyIxsbGeOqpp2LSpEkxdOjQ+Ou//uv49NNP4+GHH45x48bFV7/61Zg1a1Z88cUXvc4K0JcUQCAL//mf/xl1dXXxyiuvxPbt2+Okk06KG2+8sdvnpxbAW2+9Na6++upOZ51yyinx9NNPx//+7//G3/zN38S4cePi888/j4i9BbCuri4uuOCCWLVqVaxYsSKOP/74mDFjRvzt3/5tvP766/HUU0/FkUceGQsXLux1VoC+pAAC2fj+978fkyZNir//+7+PyZMnx86dO7t9bmoBnDRpUixZsqTTWQ8++GDHn7/++utRKpXijTfeiIi9BbBUKsVbb73V8Zzvfe970dDQENu3b+947MILL4zvfe97vc4K0JcUQCAbO3bsiK9//etRV1cXr7322kGfm1IA165dGw0NDbFjx45OZ7388ssdz/n444+jVCrFihUrImJvAWxoaOh0zuzZs+NP//RPOz121VVXxXe+851eZwXoSwogkI01a9bEkCFD4ogjjuj47lx3Ugrg3Llz49JLLz3oWZ988kmUSqVYtmxZRPzxZwC/rLm5+YC3oGlqaup0dk+zAvQlBRDIwq5du2LKlCnR1NQU//qv/xojRoyIjRs3dvv8lAI4bdq0eOihhw56lgII5EwBBLJw6623xvjx46OtrS12794d5557blx88cXdPr+7UrVr164ol8tRLpdj9OjRceutt0a5XI4333wzIiI2bdoUX/nKV2LTpk0HPUsBBHKmAAID3rJly+IrX/lK/Nd//VfHYy0tLdHY2Bj//u//3uXHdFeqvvwbQr58TZ8+PSIiHnzwwfjzP//zQ56lAAI5UwCBmnS4perb3/523HPPPRVK1TUFEOhvCiBQk/aVqqFDh8a0adN6/HH33HNPvPfeexVM1tlFF10UDQ0NCiDQrxRAoCZ9/vnn8eabb8abb77Zr4Wut95///2OnLt27ap2HKAgFEAAgIJRAAEACkYBBAAoGAUQAKBgFEAAgIJRAAEACkYBBAAoGAUQAKBgFEAAgIL5f5rZlHSlIHu3AAAAAElFTkSuQmCC" width="640"></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0, 0.5, &#39;z [1/nm]&#39;)
</pre></div></div>
</div>
</div>
<div class="section" id="2D-Plot-of-Reciprocal-Lattice-with-Ewald-Sphere">
<h3>2D Plot of Reciprocal Lattice with Ewald Sphere<a class="headerlink" href="#2D-Plot-of-Reciprocal-Lattice-with-Ewald-Sphere" title="Permalink to this headline">¶</a></h3>
<p>Please zoom in to the reciprocal lattice to see clearly the difference between X-ray and electron diffraction.</p>
<p>For a short explanation of braggs Law and Ewald sphere construction please see the <a class="reference external" href="Ch2-Basic_Crystallography.ipynb#Basics-of-Diffraction">Basic_Crystallography notebook</a></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">Ewald_Sphere</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Circle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="n">K0</span><span class="p">),</span> <span class="n">K0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">Ewald_Sphere_CuKa</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Circle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="mf">0.15418</span><span class="p">),</span> <span class="mf">1.</span><span class="o">/</span><span class="mf">0.15418</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Plot 2D</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">g</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">g</span><span class="p">[:,</span><span class="mi">2</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">K0</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">Ewald_Sphere</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">Ewald_Sphere_CuKa</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x [1/nm]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;z [1/nm]&#39;</span><span class="p">);</span>

</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
/* Put everything inside the global mpl namespace */
/* global mpl */
window.mpl = {};

mpl.get_websocket_type = function () {
    if (typeof WebSocket !== 'undefined') {
        return WebSocket;
    } else if (typeof MozWebSocket !== 'undefined') {
        return MozWebSocket;
    } else {
        alert(
            'Your browser does not have WebSocket support. ' +
                'Please try Chrome, Safari or Firefox ≥ 6. ' +
                'Firefox 4 and 5 are also supported but you ' +
                'have to enable WebSockets in about:config.'
        );
    }
};

mpl.figure = function (figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = this.ws.binaryType !== undefined;

    if (!this.supports_binary) {
        var warnings = document.getElementById('mpl-warnings');
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent =
                'This browser does not support binary websocket messages. ' +
                'Performance may be slow.';
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = document.createElement('div');
    this.root.setAttribute('style', 'display: inline-block');
    this._root_extra_style(this.root);

    parent_element.appendChild(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen = function () {
        fig.send_message('supports_binary', { value: fig.supports_binary });
        fig.send_message('send_image_mode', {});
        if (fig.ratio !== 1) {
            fig.send_message('set_dpi_ratio', { dpi_ratio: fig.ratio });
        }
        fig.send_message('refresh', {});
    };

    this.imageObj.onload = function () {
        if (fig.image_mode === 'full') {
            // Full images could contain transparency (where diff images
            // almost always do), so we need to clear the canvas so that
            // there is no ghosting.
            fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
        }
        fig.context.drawImage(fig.imageObj, 0, 0);
    };

    this.imageObj.onunload = function () {
        fig.ws.close();
    };

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
};

mpl.figure.prototype._init_header = function () {
    var titlebar = document.createElement('div');
    titlebar.classList =
        'ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix';
    var titletext = document.createElement('div');
    titletext.classList = 'ui-dialog-title';
    titletext.setAttribute(
        'style',
        'width: 100%; text-align: center; padding: 3px;'
    );
    titlebar.appendChild(titletext);
    this.root.appendChild(titlebar);
    this.header = titletext;
};

mpl.figure.prototype._canvas_extra_style = function (_canvas_div) {};

mpl.figure.prototype._root_extra_style = function (_canvas_div) {};

mpl.figure.prototype._init_canvas = function () {
    var fig = this;

    var canvas_div = (this.canvas_div = document.createElement('div'));
    canvas_div.setAttribute(
        'style',
        'border: 1px solid #ddd;' +
            'box-sizing: content-box;' +
            'clear: both;' +
            'min-height: 1px;' +
            'min-width: 1px;' +
            'outline: 0;' +
            'overflow: hidden;' +
            'position: relative;' +
            'resize: both;'
    );

    function on_keyboard_event_closure(name) {
        return function (event) {
            return fig.key_event(event, name);
        };
    }

    canvas_div.addEventListener(
        'keydown',
        on_keyboard_event_closure('key_press')
    );
    canvas_div.addEventListener(
        'keyup',
        on_keyboard_event_closure('key_release')
    );

    this._canvas_extra_style(canvas_div);
    this.root.appendChild(canvas_div);

    var canvas = (this.canvas = document.createElement('canvas'));
    canvas.classList.add('mpl-canvas');
    canvas.setAttribute('style', 'box-sizing: content-box;');

    this.context = canvas.getContext('2d');

    var backingStore =
        this.context.backingStorePixelRatio ||
        this.context.webkitBackingStorePixelRatio ||
        this.context.mozBackingStorePixelRatio ||
        this.context.msBackingStorePixelRatio ||
        this.context.oBackingStorePixelRatio ||
        this.context.backingStorePixelRatio ||
        1;

    this.ratio = (window.devicePixelRatio || 1) / backingStore;
    if (this.ratio !== 1) {
        fig.send_message('set_dpi_ratio', { dpi_ratio: this.ratio });
    }

    var rubberband_canvas = (this.rubberband_canvas = document.createElement(
        'canvas'
    ));
    rubberband_canvas.setAttribute(
        'style',
        'box-sizing: content-box; position: absolute; left: 0; top: 0; z-index: 1;'
    );

    var resizeObserver = new ResizeObserver(function (entries) {
        var nentries = entries.length;
        for (var i = 0; i < nentries; i++) {
            var entry = entries[i];
            var width, height;
            if (entry.contentBoxSize) {
                if (entry.contentBoxSize instanceof Array) {
                    // Chrome 84 implements new version of spec.
                    width = entry.contentBoxSize[0].inlineSize;
                    height = entry.contentBoxSize[0].blockSize;
                } else {
                    // Firefox implements old version of spec.
                    width = entry.contentBoxSize.inlineSize;
                    height = entry.contentBoxSize.blockSize;
                }
            } else {
                // Chrome <84 implements even older version of spec.
                width = entry.contentRect.width;
                height = entry.contentRect.height;
            }

            // Keep the size of the canvas and rubber band canvas in sync with
            // the canvas container.
            if (entry.devicePixelContentBoxSize) {
                // Chrome 84 implements new version of spec.
                canvas.setAttribute(
                    'width',
                    entry.devicePixelContentBoxSize[0].inlineSize
                );
                canvas.setAttribute(
                    'height',
                    entry.devicePixelContentBoxSize[0].blockSize
                );
            } else {
                canvas.setAttribute('width', width * fig.ratio);
                canvas.setAttribute('height', height * fig.ratio);
            }
            canvas.setAttribute(
                'style',
                'width: ' + width + 'px; height: ' + height + 'px;'
            );

            rubberband_canvas.setAttribute('width', width);
            rubberband_canvas.setAttribute('height', height);

            // And update the size in Python. We ignore the initial 0/0 size
            // that occurs as the element is placed into the DOM, which should
            // otherwise not happen due to the minimum size styling.
            if (width != 0 && height != 0) {
                fig.request_resize(width, height);
            }
        }
    });
    resizeObserver.observe(canvas_div);

    function on_mouse_event_closure(name) {
        return function (event) {
            return fig.mouse_event(event, name);
        };
    }

    rubberband_canvas.addEventListener(
        'mousedown',
        on_mouse_event_closure('button_press')
    );
    rubberband_canvas.addEventListener(
        'mouseup',
        on_mouse_event_closure('button_release')
    );
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband_canvas.addEventListener(
        'mousemove',
        on_mouse_event_closure('motion_notify')
    );

    rubberband_canvas.addEventListener(
        'mouseenter',
        on_mouse_event_closure('figure_enter')
    );
    rubberband_canvas.addEventListener(
        'mouseleave',
        on_mouse_event_closure('figure_leave')
    );

    canvas_div.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        on_mouse_event_closure('scroll')(event);
    });

    canvas_div.appendChild(canvas);
    canvas_div.appendChild(rubberband_canvas);

    this.rubberband_context = rubberband_canvas.getContext('2d');
    this.rubberband_context.strokeStyle = '#000000';

    this._resize_canvas = function (width, height, forward) {
        if (forward) {
            canvas_div.style.width = width + 'px';
            canvas_div.style.height = height + 'px';
        }
    };

    // Disable right mouse context menu.
    this.rubberband_canvas.addEventListener('contextmenu', function (_e) {
        event.preventDefault();
        return false;
    });

    function set_focus() {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'mpl-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'mpl-button-group';
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'mpl-button-group';
            continue;
        }

        var button = (fig.buttons[name] = document.createElement('button'));
        button.classList = 'mpl-widget';
        button.setAttribute('role', 'button');
        button.setAttribute('aria-disabled', 'false');
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));

        var icon_img = document.createElement('img');
        icon_img.src = '_images/' + image + '.png';
        icon_img.srcset = '_images/' + image + '_large.png 2x';
        icon_img.alt = tooltip;
        button.appendChild(icon_img);

        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    var fmt_picker = document.createElement('select');
    fmt_picker.classList = 'mpl-widget';
    toolbar.appendChild(fmt_picker);
    this.format_dropdown = fmt_picker;

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = document.createElement('option');
        option.selected = fmt === mpl.default_extension;
        option.innerHTML = fmt;
        fmt_picker.appendChild(option);
    }

    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message';
    toolbar.appendChild(status_bar);
    this.message = status_bar;
};

mpl.figure.prototype.request_resize = function (x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', { width: x_pixels, height: y_pixels });
};

mpl.figure.prototype.send_message = function (type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
};

mpl.figure.prototype.send_draw_message = function () {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({ type: 'draw', figure_id: this.id }));
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
};

mpl.figure.prototype.handle_resize = function (fig, msg) {
    var size = msg['size'];
    if (size[0] !== fig.canvas.width || size[1] !== fig.canvas.height) {
        fig._resize_canvas(size[0], size[1], msg['forward']);
        fig.send_message('refresh', {});
    }
};

mpl.figure.prototype.handle_rubberband = function (fig, msg) {
    var x0 = msg['x0'] / fig.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / fig.ratio;
    var x1 = msg['x1'] / fig.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / fig.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0,
        0,
        fig.canvas.width / fig.ratio,
        fig.canvas.height / fig.ratio
    );

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
};

mpl.figure.prototype.handle_figure_label = function (fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
};

mpl.figure.prototype.handle_cursor = function (fig, msg) {
    var cursor = msg['cursor'];
    switch (cursor) {
        case 0:
            cursor = 'pointer';
            break;
        case 1:
            cursor = 'default';
            break;
        case 2:
            cursor = 'crosshair';
            break;
        case 3:
            cursor = 'move';
            break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
};

mpl.figure.prototype.handle_message = function (fig, msg) {
    fig.message.textContent = msg['message'];
};

mpl.figure.prototype.handle_draw = function (fig, _msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
};

mpl.figure.prototype.handle_image_mode = function (fig, msg) {
    fig.image_mode = msg['mode'];
};

mpl.figure.prototype.handle_history_buttons = function (fig, msg) {
    for (var key in msg) {
        if (!(key in fig.buttons)) {
            continue;
        }
        fig.buttons[key].disabled = !msg[key];
        fig.buttons[key].setAttribute('aria-disabled', !msg[key]);
    }
};

mpl.figure.prototype.handle_navigate_mode = function (fig, msg) {
    if (msg['mode'] === 'PAN') {
        fig.buttons['Pan'].classList.add('active');
        fig.buttons['Zoom'].classList.remove('active');
    } else if (msg['mode'] === 'ZOOM') {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.add('active');
    } else {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.remove('active');
    }
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Called whenever the canvas gets updated.
    this.send_message('ack', {});
};

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function (fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = 'image/png';

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src
                );
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data
            );
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        } else if (
            typeof evt.data === 'string' &&
            evt.data.slice(0, 21) === 'data:image/png;base64'
        ) {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig['handle_' + msg_type];
        } catch (e) {
            console.log(
                "No handler for the '" + msg_type + "' message type: ",
                msg
            );
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log(
                    "Exception inside the 'handler_" + msg_type + "' callback:",
                    e,
                    e.stack,
                    msg
                );
            }
        }
    };
};

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function (e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e) {
        e = window.event;
    }
    if (e.target) {
        targ = e.target;
    } else if (e.srcElement) {
        targ = e.srcElement;
    }
    if (targ.nodeType === 3) {
        // defeat Safari bug
        targ = targ.parentNode;
    }

    // pageX,Y are the mouse positions relative to the document
    var boundingRect = targ.getBoundingClientRect();
    var x = e.pageX - (boundingRect.left + document.body.scrollLeft);
    var y = e.pageY - (boundingRect.top + document.body.scrollTop);

    return { x: x, y: y };
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys(original) {
    return Object.keys(original).reduce(function (obj, key) {
        if (typeof original[key] !== 'object') {
            obj[key] = original[key];
        }
        return obj;
    }, {});
}

mpl.figure.prototype.mouse_event = function (event, name) {
    var canvas_pos = mpl.findpos(event);

    if (name === 'button_press') {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * this.ratio;
    var y = canvas_pos.y * this.ratio;

    this.send_message(name, {
        x: x,
        y: y,
        button: event.button,
        step: event.step,
        guiEvent: simpleKeys(event),
    });

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
};

mpl.figure.prototype._key_event_extra = function (_event, _name) {
    // Handle any extra behaviour associated with a key event
};

mpl.figure.prototype.key_event = function (event, name) {
    // Prevent repeat events
    if (name === 'key_press') {
        if (event.which === this._key) {
            return;
        } else {
            this._key = event.which;
        }
    }
    if (name === 'key_release') {
        this._key = null;
    }

    var value = '';
    if (event.ctrlKey && event.which !== 17) {
        value += 'ctrl+';
    }
    if (event.altKey && event.which !== 18) {
        value += 'alt+';
    }
    if (event.shiftKey && event.which !== 16) {
        value += 'shift+';
    }

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, { key: value, guiEvent: simpleKeys(event) });
    return false;
};

mpl.figure.prototype.toolbar_button_onclick = function (name) {
    if (name === 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message('toolbar_button', { name: name });
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function (tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis, CTRL fixes aspect", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";/* global mpl */

var comm_websocket_adapter = function (comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function () {
        comm.close();
    };
    ws.send = function (m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function (msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data']);
    });
    return ws;
};

mpl.mpl_figure_comm = function (comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = document.getElementById(id);
    var ws_proxy = comm_websocket_adapter(comm);

    function ondownload(figure, _format) {
        window.open(figure.canvas.toDataURL());
    }

    var fig = new mpl.figure(id, ws_proxy, ondownload, element);

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element;
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error('Failed to find cell for figure', id, fig);
        return;
    }
    fig.cell_info[0].output_area.element.one(
        'cleared',
        { fig: fig },
        fig._remove_fig_handler
    );
};

mpl.figure.prototype.handle_close = function (fig, msg) {
    var width = fig.canvas.width / fig.ratio;
    fig.cell_info[0].output_area.element.off(
        'cleared',
        fig._remove_fig_handler
    );

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable();
    fig.parent_element.innerHTML =
        '<img src="' + dataURL + '" width="' + width + '">';
    fig.close_ws(fig, msg);
};

mpl.figure.prototype.close_ws = function (fig, msg) {
    fig.send_message('closing', msg);
    // fig.ws.close()
};

mpl.figure.prototype.push_to_output = function (_remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width / this.ratio;
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] =
        '<img src="' + dataURL + '" width="' + width + '">';
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message('ack', {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () {
        fig.push_to_output();
    }, 1000);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'btn-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'btn-group';
    var button;
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'btn-group';
            continue;
        }

        button = fig.buttons[name] = document.createElement('button');
        button.classList = 'btn btn-default';
        button.href = '#';
        button.title = name;
        button.innerHTML = '<i class="fa ' + image + ' fa-lg"></i>';
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));
        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    // Add the status bar.
    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message pull-right';
    toolbar.appendChild(status_bar);
    this.message = status_bar;

    // Add the close button to the window.
    var buttongrp = document.createElement('div');
    buttongrp.classList = 'btn-group inline pull-right';
    button = document.createElement('button');
    button.classList = 'btn btn-mini btn-primary';
    button.href = '#';
    button.title = 'Stop Interaction';
    button.innerHTML = '<i class="fa fa-power-off icon-remove icon-large"></i>';
    button.addEventListener('click', function (_evt) {
        fig.handle_close(fig, {});
    });
    button.addEventListener(
        'mouseover',
        on_mouseover_closure('Stop Interaction')
    );
    buttongrp.appendChild(button);
    var titlebar = this.root.querySelector('.ui-dialog-titlebar');
    titlebar.insertBefore(buttongrp, titlebar.firstChild);
};

mpl.figure.prototype._remove_fig_handler = function (event) {
    var fig = event.data.fig;
    fig.close_ws(fig, {});
};

mpl.figure.prototype._root_extra_style = function (el) {
    el.style.boxSizing = 'content-box'; // override notebook setting of border-box.
};

mpl.figure.prototype._canvas_extra_style = function (el) {
    // this is important to make the div 'focusable
    el.setAttribute('tabindex', 0);
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    } else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }
};

mpl.figure.prototype._key_event_extra = function (event, _name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager) {
        manager = IPython.keyboard_manager;
    }

    // Check for shift+enter
    if (event.shiftKey && event.which === 13) {
        this.canvas_div.blur();
        // select the cell after this one
        var index = IPython.notebook.find_cell_index(this.cell_info[0]);
        IPython.notebook.select(index + 1);
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    fig.ondownload(fig, null);
};

mpl.find_output_cell = function (html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i = 0; i < ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code') {
            for (var j = 0; j < cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] === html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
};

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel !== null) {
    IPython.notebook.kernel.comm_manager.register_target(
        'matplotlib',
        mpl.mpl_figure_comm
    );
}

</script></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<img src="data:image/png;base64,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38zQXWaObjPzdZNZosbmJ9Uzq3SF2aBLzO+qbHbqb2afLjKHVbiwlD+/sy+NMVJU1J92almpYkWpRg2pVi3p6qula66RbrhBatZMamHmntmprc04PWU+1j/MUHUwA/Rv009vml7qbt5SnOkkCqBlzZo1k8fjOevvDx8+rGbNmoX0/27cuLHat2+f5e9q1aql119/PaDLny6AkyenaOpUacIEadQo36OVgQOld+OOqLd5Q3EmTq+beL1i3tU/zUA9Z4arrRmlVmaCHjTTzjxaucUs1A3mWzU2P6mBWamraqerVi3pkkukqlWlChV8w3/RRVLRor4XNEVHO79zne+IMWkqbI6phElSaXNQF5u9qmx2qobZosvMZl1p1queWaVrzDJdf02abr5Zuu02qUUL6b77pAcekB55RGrdWmrXzvco7YUXfN9YOnf2PYLr2tX3aK57d1+57dPH9yivf3/fI75Bg3yfz5Ejfd+4xozxPSqcNCxJU81DmmHu10xzn2abu/Wlaa6vze1aaG7REnOTvjPX60dzrZabRvrZ1Ndac5U2mCu0yVyu3344qK1bpZ07fSV43z7fI9NDh6TkZOnYMd8j1vR036NXRxITnX0h8vIVdrmc1ev1auvhrfp0w6d67evX1GJ8C9X4oMaZomQ8RsXii6nh8IZ6fPrjenPBmxq0bJCmb5yuHxN+1I6kHUo9lZpneSUp05upxKOJWr1vteb8Nkcf/fyRei7pqedmPaemo5qeecuc00e5d8rpxk9u1POzntfwlcP1896fz/0WLRE8B8HweqVTp6TUVN+zKikp0uHD0sGDvqvds0fatct3Bun336XNm6VflhzUOlNHq0w9rTAN9ZNprO9NEy01N2qRaar55jZ9Ze7UHHOXZpl79ZlpqWnmQU02j2iCaaWxHyZr1Cjfg+nhw6XBg33fw99/X3r3Xd+D7t69pR49fA/E//Mf6Y03pH//W+rUyXcW6vnnpaeekp54wncm6qGHpL//XbrrLumOO6RbbvGVlMb1033f381a1TIbdYn5XVXMDlUwu1XW7NdF5rCKmKOKNScVbTJC9/09Ripc2FeqypSRLr5YqlzZV6wuv1y68kqpXp103/d3851uNot1m5mvu81s3W9m6BEzWW3MGD1jRuoFM1idTH+9ZvroLdNdPU1X9TWvakDPFA0Z4vu8jhsnTZniO0Ex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" width="640"></div>
</div>
</div>
</div>
<div class="section" id="Excitation-Error">
<h2>Excitation Error<a class="headerlink" href="#Excitation-Error" title="Permalink to this headline">¶</a></h2>
<div class="section" id="2D-Plot-of-Reciprocal-Lattice-with-Excitation-Error">
<h3>2D Plot of Reciprocal Lattice with Excitation Error<a class="headerlink" href="#2D-Plot-of-Reciprocal-Lattice-with-Excitation-Error" title="Permalink to this headline">¶</a></h3>
<p>Here we define the excitation error. With the wave vector coming in parallel to a zone axis, the Ewald sphere should not cut any point in reciprocal space. That is why we do <span class="math notranslate nohighlight">\(\theta - 2\theta\)</span> scans in X-ray diffraction experiments.</p>
<p>Hwever the dimensions of a TEM specimen are rather small, for a minimum the thickness paralllel to the beam has to be in the nanometer range (&lt;200nm). This leads to the effect that the reciprocal lattice spots now are 3 dimensional objects refleting the specimen geometry in reciprocal space. The spots are theFourier transfrom of the specimen geometry. A normal specimen is a thin disk perpendicular to the beam and in reciprocal space it is a thin rod parallel to the wave vector.</p>
<p>Therefore we can excite Bragg reflections even though we not exactly cut the reflection spot with the Ewald sphere. Theis deviation is called excitation error and is expressed as a vector.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">acceleration_voltage_V</span> <span class="o">=</span> <span class="mf">100.0</span> <span class="o">*</span><span class="mf">1000.0</span> <span class="c1">#V</span>

<span class="n">wave_length_nm</span>  <span class="o">=</span> <span class="n">ks</span><span class="o">.</span><span class="n">get_wavelength</span><span class="p">(</span><span class="n">acceleration_voltage_V</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The wavelength for </span><span class="si">{0:.1f}</span><span class="s1">kV is : </span><span class="si">{1:.5f}</span><span class="s1">pm&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">acceleration_voltage_V</span><span class="o">/</span><span class="mf">1000.</span><span class="p">,</span><span class="n">wave_length_nm</span><span class="o">*</span><span class="mf">1000.</span><span class="p">))</span>

<span class="n">wave_vector_magnitude</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">wave_length_nm</span>
<span class="n">K0</span> <span class="o">=</span> <span class="n">wave_vector_magnitude</span>


<span class="n">Ewald_Sphere</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Circle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="n">K0</span><span class="p">),</span> <span class="n">K0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Plot 2D</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">g</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">g</span><span class="p">[:,</span><span class="mi">2</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">K0</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">Ewald_Sphere</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">quiver</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">g</span><span class="p">[</span><span class="mi">2001</span><span class="p">,</span><span class="mi">0</span><span class="p">]],[</span><span class="n">K0</span><span class="p">,</span><span class="n">K0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="n">g</span><span class="p">[</span><span class="mi">2001</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">g</span><span class="p">[</span><span class="mi">2001</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="n">K0</span><span class="p">,</span> <span class="o">-</span><span class="n">K0</span><span class="o">+</span><span class="mf">0.58</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.58</span><span class="p">],</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">,</span> <span class="n">scale</span> <span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="o">.</span><span class="mi">05</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">17.9</span><span class="p">,</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span><span class="sa">r</span><span class="s1">&#39;$\vec</span><span class="si">{S_g}</span><span class="s1">$&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span><span class="o">-.</span><span class="mi">3</span><span class="p">,</span><span class="sa">r</span><span class="s1">&#39;$\vec</span><span class="si">{g}</span><span class="s1">_</span><span class="si">{ZOLZ}</span><span class="s1">$&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">17.7</span><span class="p">,</span><span class="mf">2.1</span><span class="p">,</span><span class="sa">r</span><span class="s1">&#39;$\vec</span><span class="si">{K_g}</span><span class="s1">$&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="sa">r</span><span class="s1">&#39;$\vec</span><span class="si">{K_0}</span><span class="s1">$&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>


<span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x [1/nm]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;z [1/nm]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The wavelength for 100.0kV is : 3.70144pm
2116
[17.64270996 10.58562597  0.        ]
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
/* Put everything inside the global mpl namespace */
/* global mpl */
window.mpl = {};

mpl.get_websocket_type = function () {
    if (typeof WebSocket !== 'undefined') {
        return WebSocket;
    } else if (typeof MozWebSocket !== 'undefined') {
        return MozWebSocket;
    } else {
        alert(
            'Your browser does not have WebSocket support. ' +
                'Please try Chrome, Safari or Firefox ≥ 6. ' +
                'Firefox 4 and 5 are also supported but you ' +
                'have to enable WebSockets in about:config.'
        );
    }
};

mpl.figure = function (figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = this.ws.binaryType !== undefined;

    if (!this.supports_binary) {
        var warnings = document.getElementById('mpl-warnings');
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent =
                'This browser does not support binary websocket messages. ' +
                'Performance may be slow.';
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = document.createElement('div');
    this.root.setAttribute('style', 'display: inline-block');
    this._root_extra_style(this.root);

    parent_element.appendChild(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen = function () {
        fig.send_message('supports_binary', { value: fig.supports_binary });
        fig.send_message('send_image_mode', {});
        if (fig.ratio !== 1) {
            fig.send_message('set_dpi_ratio', { dpi_ratio: fig.ratio });
        }
        fig.send_message('refresh', {});
    };

    this.imageObj.onload = function () {
        if (fig.image_mode === 'full') {
            // Full images could contain transparency (where diff images
            // almost always do), so we need to clear the canvas so that
            // there is no ghosting.
            fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
        }
        fig.context.drawImage(fig.imageObj, 0, 0);
    };

    this.imageObj.onunload = function () {
        fig.ws.close();
    };

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
};

mpl.figure.prototype._init_header = function () {
    var titlebar = document.createElement('div');
    titlebar.classList =
        'ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix';
    var titletext = document.createElement('div');
    titletext.classList = 'ui-dialog-title';
    titletext.setAttribute(
        'style',
        'width: 100%; text-align: center; padding: 3px;'
    );
    titlebar.appendChild(titletext);
    this.root.appendChild(titlebar);
    this.header = titletext;
};

mpl.figure.prototype._canvas_extra_style = function (_canvas_div) {};

mpl.figure.prototype._root_extra_style = function (_canvas_div) {};

mpl.figure.prototype._init_canvas = function () {
    var fig = this;

    var canvas_div = (this.canvas_div = document.createElement('div'));
    canvas_div.setAttribute(
        'style',
        'border: 1px solid #ddd;' +
            'box-sizing: content-box;' +
            'clear: both;' +
            'min-height: 1px;' +
            'min-width: 1px;' +
            'outline: 0;' +
            'overflow: hidden;' +
            'position: relative;' +
            'resize: both;'
    );

    function on_keyboard_event_closure(name) {
        return function (event) {
            return fig.key_event(event, name);
        };
    }

    canvas_div.addEventListener(
        'keydown',
        on_keyboard_event_closure('key_press')
    );
    canvas_div.addEventListener(
        'keyup',
        on_keyboard_event_closure('key_release')
    );

    this._canvas_extra_style(canvas_div);
    this.root.appendChild(canvas_div);

    var canvas = (this.canvas = document.createElement('canvas'));
    canvas.classList.add('mpl-canvas');
    canvas.setAttribute('style', 'box-sizing: content-box;');

    this.context = canvas.getContext('2d');

    var backingStore =
        this.context.backingStorePixelRatio ||
        this.context.webkitBackingStorePixelRatio ||
        this.context.mozBackingStorePixelRatio ||
        this.context.msBackingStorePixelRatio ||
        this.context.oBackingStorePixelRatio ||
        this.context.backingStorePixelRatio ||
        1;

    this.ratio = (window.devicePixelRatio || 1) / backingStore;
    if (this.ratio !== 1) {
        fig.send_message('set_dpi_ratio', { dpi_ratio: this.ratio });
    }

    var rubberband_canvas = (this.rubberband_canvas = document.createElement(
        'canvas'
    ));
    rubberband_canvas.setAttribute(
        'style',
        'box-sizing: content-box; position: absolute; left: 0; top: 0; z-index: 1;'
    );

    var resizeObserver = new ResizeObserver(function (entries) {
        var nentries = entries.length;
        for (var i = 0; i < nentries; i++) {
            var entry = entries[i];
            var width, height;
            if (entry.contentBoxSize) {
                if (entry.contentBoxSize instanceof Array) {
                    // Chrome 84 implements new version of spec.
                    width = entry.contentBoxSize[0].inlineSize;
                    height = entry.contentBoxSize[0].blockSize;
                } else {
                    // Firefox implements old version of spec.
                    width = entry.contentBoxSize.inlineSize;
                    height = entry.contentBoxSize.blockSize;
                }
            } else {
                // Chrome <84 implements even older version of spec.
                width = entry.contentRect.width;
                height = entry.contentRect.height;
            }

            // Keep the size of the canvas and rubber band canvas in sync with
            // the canvas container.
            if (entry.devicePixelContentBoxSize) {
                // Chrome 84 implements new version of spec.
                canvas.setAttribute(
                    'width',
                    entry.devicePixelContentBoxSize[0].inlineSize
                );
                canvas.setAttribute(
                    'height',
                    entry.devicePixelContentBoxSize[0].blockSize
                );
            } else {
                canvas.setAttribute('width', width * fig.ratio);
                canvas.setAttribute('height', height * fig.ratio);
            }
            canvas.setAttribute(
                'style',
                'width: ' + width + 'px; height: ' + height + 'px;'
            );

            rubberband_canvas.setAttribute('width', width);
            rubberband_canvas.setAttribute('height', height);

            // And update the size in Python. We ignore the initial 0/0 size
            // that occurs as the element is placed into the DOM, which should
            // otherwise not happen due to the minimum size styling.
            if (width != 0 && height != 0) {
                fig.request_resize(width, height);
            }
        }
    });
    resizeObserver.observe(canvas_div);

    function on_mouse_event_closure(name) {
        return function (event) {
            return fig.mouse_event(event, name);
        };
    }

    rubberband_canvas.addEventListener(
        'mousedown',
        on_mouse_event_closure('button_press')
    );
    rubberband_canvas.addEventListener(
        'mouseup',
        on_mouse_event_closure('button_release')
    );
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband_canvas.addEventListener(
        'mousemove',
        on_mouse_event_closure('motion_notify')
    );

    rubberband_canvas.addEventListener(
        'mouseenter',
        on_mouse_event_closure('figure_enter')
    );
    rubberband_canvas.addEventListener(
        'mouseleave',
        on_mouse_event_closure('figure_leave')
    );

    canvas_div.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        on_mouse_event_closure('scroll')(event);
    });

    canvas_div.appendChild(canvas);
    canvas_div.appendChild(rubberband_canvas);

    this.rubberband_context = rubberband_canvas.getContext('2d');
    this.rubberband_context.strokeStyle = '#000000';

    this._resize_canvas = function (width, height, forward) {
        if (forward) {
            canvas_div.style.width = width + 'px';
            canvas_div.style.height = height + 'px';
        }
    };

    // Disable right mouse context menu.
    this.rubberband_canvas.addEventListener('contextmenu', function (_e) {
        event.preventDefault();
        return false;
    });

    function set_focus() {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'mpl-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'mpl-button-group';
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'mpl-button-group';
            continue;
        }

        var button = (fig.buttons[name] = document.createElement('button'));
        button.classList = 'mpl-widget';
        button.setAttribute('role', 'button');
        button.setAttribute('aria-disabled', 'false');
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));

        var icon_img = document.createElement('img');
        icon_img.src = '_images/' + image + '.png';
        icon_img.srcset = '_images/' + image + '_large.png 2x';
        icon_img.alt = tooltip;
        button.appendChild(icon_img);

        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    var fmt_picker = document.createElement('select');
    fmt_picker.classList = 'mpl-widget';
    toolbar.appendChild(fmt_picker);
    this.format_dropdown = fmt_picker;

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = document.createElement('option');
        option.selected = fmt === mpl.default_extension;
        option.innerHTML = fmt;
        fmt_picker.appendChild(option);
    }

    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message';
    toolbar.appendChild(status_bar);
    this.message = status_bar;
};

mpl.figure.prototype.request_resize = function (x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', { width: x_pixels, height: y_pixels });
};

mpl.figure.prototype.send_message = function (type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
};

mpl.figure.prototype.send_draw_message = function () {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({ type: 'draw', figure_id: this.id }));
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
};

mpl.figure.prototype.handle_resize = function (fig, msg) {
    var size = msg['size'];
    if (size[0] !== fig.canvas.width || size[1] !== fig.canvas.height) {
        fig._resize_canvas(size[0], size[1], msg['forward']);
        fig.send_message('refresh', {});
    }
};

mpl.figure.prototype.handle_rubberband = function (fig, msg) {
    var x0 = msg['x0'] / fig.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / fig.ratio;
    var x1 = msg['x1'] / fig.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / fig.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0,
        0,
        fig.canvas.width / fig.ratio,
        fig.canvas.height / fig.ratio
    );

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
};

mpl.figure.prototype.handle_figure_label = function (fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
};

mpl.figure.prototype.handle_cursor = function (fig, msg) {
    var cursor = msg['cursor'];
    switch (cursor) {
        case 0:
            cursor = 'pointer';
            break;
        case 1:
            cursor = 'default';
            break;
        case 2:
            cursor = 'crosshair';
            break;
        case 3:
            cursor = 'move';
            break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
};

mpl.figure.prototype.handle_message = function (fig, msg) {
    fig.message.textContent = msg['message'];
};

mpl.figure.prototype.handle_draw = function (fig, _msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
};

mpl.figure.prototype.handle_image_mode = function (fig, msg) {
    fig.image_mode = msg['mode'];
};

mpl.figure.prototype.handle_history_buttons = function (fig, msg) {
    for (var key in msg) {
        if (!(key in fig.buttons)) {
            continue;
        }
        fig.buttons[key].disabled = !msg[key];
        fig.buttons[key].setAttribute('aria-disabled', !msg[key]);
    }
};

mpl.figure.prototype.handle_navigate_mode = function (fig, msg) {
    if (msg['mode'] === 'PAN') {
        fig.buttons['Pan'].classList.add('active');
        fig.buttons['Zoom'].classList.remove('active');
    } else if (msg['mode'] === 'ZOOM') {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.add('active');
    } else {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.remove('active');
    }
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Called whenever the canvas gets updated.
    this.send_message('ack', {});
};

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function (fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = 'image/png';

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src
                );
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data
            );
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        } else if (
            typeof evt.data === 'string' &&
            evt.data.slice(0, 21) === 'data:image/png;base64'
        ) {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig['handle_' + msg_type];
        } catch (e) {
            console.log(
                "No handler for the '" + msg_type + "' message type: ",
                msg
            );
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log(
                    "Exception inside the 'handler_" + msg_type + "' callback:",
                    e,
                    e.stack,
                    msg
                );
            }
        }
    };
};

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function (e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e) {
        e = window.event;
    }
    if (e.target) {
        targ = e.target;
    } else if (e.srcElement) {
        targ = e.srcElement;
    }
    if (targ.nodeType === 3) {
        // defeat Safari bug
        targ = targ.parentNode;
    }

    // pageX,Y are the mouse positions relative to the document
    var boundingRect = targ.getBoundingClientRect();
    var x = e.pageX - (boundingRect.left + document.body.scrollLeft);
    var y = e.pageY - (boundingRect.top + document.body.scrollTop);

    return { x: x, y: y };
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys(original) {
    return Object.keys(original).reduce(function (obj, key) {
        if (typeof original[key] !== 'object') {
            obj[key] = original[key];
        }
        return obj;
    }, {});
}

mpl.figure.prototype.mouse_event = function (event, name) {
    var canvas_pos = mpl.findpos(event);

    if (name === 'button_press') {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * this.ratio;
    var y = canvas_pos.y * this.ratio;

    this.send_message(name, {
        x: x,
        y: y,
        button: event.button,
        step: event.step,
        guiEvent: simpleKeys(event),
    });

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
};

mpl.figure.prototype._key_event_extra = function (_event, _name) {
    // Handle any extra behaviour associated with a key event
};

mpl.figure.prototype.key_event = function (event, name) {
    // Prevent repeat events
    if (name === 'key_press') {
        if (event.which === this._key) {
            return;
        } else {
            this._key = event.which;
        }
    }
    if (name === 'key_release') {
        this._key = null;
    }

    var value = '';
    if (event.ctrlKey && event.which !== 17) {
        value += 'ctrl+';
    }
    if (event.altKey && event.which !== 18) {
        value += 'alt+';
    }
    if (event.shiftKey && event.which !== 16) {
        value += 'shift+';
    }

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, { key: value, guiEvent: simpleKeys(event) });
    return false;
};

mpl.figure.prototype.toolbar_button_onclick = function (name) {
    if (name === 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message('toolbar_button', { name: name });
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function (tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis, CTRL fixes aspect", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";/* global mpl */

var comm_websocket_adapter = function (comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function () {
        comm.close();
    };
    ws.send = function (m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function (msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data']);
    });
    return ws;
};

mpl.mpl_figure_comm = function (comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = document.getElementById(id);
    var ws_proxy = comm_websocket_adapter(comm);

    function ondownload(figure, _format) {
        window.open(figure.canvas.toDataURL());
    }

    var fig = new mpl.figure(id, ws_proxy, ondownload, element);

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element;
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error('Failed to find cell for figure', id, fig);
        return;
    }
    fig.cell_info[0].output_area.element.one(
        'cleared',
        { fig: fig },
        fig._remove_fig_handler
    );
};

mpl.figure.prototype.handle_close = function (fig, msg) {
    var width = fig.canvas.width / fig.ratio;
    fig.cell_info[0].output_area.element.off(
        'cleared',
        fig._remove_fig_handler
    );

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable();
    fig.parent_element.innerHTML =
        '<img src="' + dataURL + '" width="' + width + '">';
    fig.close_ws(fig, msg);
};

mpl.figure.prototype.close_ws = function (fig, msg) {
    fig.send_message('closing', msg);
    // fig.ws.close()
};

mpl.figure.prototype.push_to_output = function (_remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width / this.ratio;
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] =
        '<img src="' + dataURL + '" width="' + width + '">';
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message('ack', {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () {
        fig.push_to_output();
    }, 1000);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'btn-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'btn-group';
    var button;
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'btn-group';
            continue;
        }

        button = fig.buttons[name] = document.createElement('button');
        button.classList = 'btn btn-default';
        button.href = '#';
        button.title = name;
        button.innerHTML = '<i class="fa ' + image + ' fa-lg"></i>';
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));
        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    // Add the status bar.
    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message pull-right';
    toolbar.appendChild(status_bar);
    this.message = status_bar;

    // Add the close button to the window.
    var buttongrp = document.createElement('div');
    buttongrp.classList = 'btn-group inline pull-right';
    button = document.createElement('button');
    button.classList = 'btn btn-mini btn-primary';
    button.href = '#';
    button.title = 'Stop Interaction';
    button.innerHTML = '<i class="fa fa-power-off icon-remove icon-large"></i>';
    button.addEventListener('click', function (_evt) {
        fig.handle_close(fig, {});
    });
    button.addEventListener(
        'mouseover',
        on_mouseover_closure('Stop Interaction')
    );
    buttongrp.appendChild(button);
    var titlebar = this.root.querySelector('.ui-dialog-titlebar');
    titlebar.insertBefore(buttongrp, titlebar.firstChild);
};

mpl.figure.prototype._remove_fig_handler = function (event) {
    var fig = event.data.fig;
    fig.close_ws(fig, {});
};

mpl.figure.prototype._root_extra_style = function (el) {
    el.style.boxSizing = 'content-box'; // override notebook setting of border-box.
};

mpl.figure.prototype._canvas_extra_style = function (el) {
    // this is important to make the div 'focusable
    el.setAttribute('tabindex', 0);
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    } else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }
};

mpl.figure.prototype._key_event_extra = function (event, _name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager) {
        manager = IPython.keyboard_manager;
    }

    // Check for shift+enter
    if (event.shiftKey && event.which === 13) {
        this.canvas_div.blur();
        // select the cell after this one
        var index = IPython.notebook.find_cell_index(this.cell_info[0]);
        IPython.notebook.select(index + 1);
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    fig.ondownload(fig, null);
};

mpl.find_output_cell = function (html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i = 0; i < ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code') {
            for (var j = 0; j < cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] === html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
};

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel !== null) {
    IPython.notebook.kernel.comm_manager.register_target(
        'matplotlib',
        mpl.mpl_figure_comm
    );
}

</script></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAHgCAYAAAA10dzkAAAgAElEQVR4nO3dd3wUdf7H8W8SQkgIRBQUlCanFEU8QJrniYpS5Gh2FAVFQMqJChbwJKgIIid6coAgEmwnFlQQUc5CUVERCR0RkBKBgAgBlAAh+/79Mb/MsaQzuzu7O6/n4zEP77Kzu5/MfOLn7c7OjBEAAAA8xbhdAAAAAEKLAAgAAOAxBEAAAACPIQACAAB4DAEQAADAYwiAAAAAHkMABAAA8BgCIAAAgMcQAAEAADyGAAgAAOAxBEAAAACPIQACAAB4DAEQAADAYwiAAAAAHkMABAAA8BgCIAAAgMcQAAEAADyGAAgAAOAxBEAAAACPIQACAAB4DAEQAADAYwiAAAAAHkMABAAA8BgCIAAAgMcQAAEAADyGAAgAAOAxBEAAAACPIQACAAB4DAEQAADAYwiAAAAAHkMABAAA8BgCIAAAgMcQAAEAADyGAAgAAOAxBEAAAACPIQACAAB4DAEQAADAYwiAAAAAHkMABAAA8BgCIAAAgMcQAAEAADyGAAgAAOAxBEAAAACPIQACAAB4DAEQAADAYwiAAAAAHkMABAAA8BgCIAAAgMcQAAEAADyGAAgAAOAxBEAAAACPIQACAAB4DAEQAADAYwiAAAAAHkMABAAA8BgCIAAAgMcQAB3Izc1VRkaGsrKydODAARYWFhYWFpYIWLKyspSRkaHc3Fy3o4RrCIAOZGRkyBjDwsLCwsLCEoFLRkaG21HCNQRAB7KysuwGcvu/Zjy7/PnPOmBM4cuf/+x+jSwFLr1797b/JXz66aezr1nY1ywhW/I+wMnKynI7SriGAOjAgQMHZIzRgQMH3C7Fm4wp+YKwM3z4cDsAxsXFyefzFb4y+9o72NcIAeY3AdARGshFpRkSDIuwNG7cOL9DMQcPHix4Rfa1d7CvESLMbwKgIzSQS5o2PbVB0bSp25XjBNOmTfMLgNu3b8+/EvvaO9jXCCHmNwHQERrIJacyJPi0IOy8++67fgFw5cqV+VdiX3sH+xohxPwmADpCA7kgM9PZoMjMdPs3wP/7/PPP/QLgwoUL/VdgX3sH+xohxvwmADpCA7ng3HOdDYrzz3f7N8D/W758uV8AfP/99/1XYF97B/saIcb8JgA6QgO5ICHB2aBISHD7N8D/27Jli18ATEtL81+Bfe0d7GuEGPObAOgIDeQCPimIGvv37/cLgOPHj/dfgX3tHexrhBjzmwDoCA3kAr4rFDVyc3MVExNjB8DHHnvMfwX2tXewrxFizG8CoCM0kEucDAqElUqVKtkBcNCgQflXYF97B/saIcT8JgA6QgO5hOuFRY06derYAbBHjx75V2Bfewf7GiHE/CYAOkIDuYhPCaJCkyZN7ADYsWPHgldiX3sH+xohwvwmADpCA7mMIRHx2rRpYwfASy+9tPAV2dfewb5GCDC/CYCO0EBhoLjDRq1auV0hinDDDTfYAbBBgwZFr8y+9g72NYKM+U0AdIQGCiOZmdalIBISrH9yVmBE6NOnjx0Aq1WrVrInsa+9g32NIGF+EwAdoYEAZx588EE7AJYrV87tcgB4BPObAOgIDQQ4M3r0aDsAGmOUnZ3tdkkAPID5TQB0hAYCnJk8ebJfANy5c6fbJQHwAOY3AdARGghwZubMmX4BcN26dW6XBMADmN8EQEdoIMCZTz75xC8Afv31126XBMADmN8EQEdoIMCZ7777zi8Azp071+2SAHgA85sA6AgNBDjz008/+QXA1157ze2SAHgA85sA6AgNBDjz66+/+gXACRMmuF0SAA9gfhMAHaGBAGeOHTvmFwCfeOIJt0sC4AHMbwKgIzQQ4FxycrIdAO+//363ywHgAcxvAqAjNBDgXI0aNewA2KtXL7fLAeABzG8CoCM0EOBco0aN7ADYtWtXt8sB4AHMbwKgIzQQ4Nzll19uB8DWrVu7XQ4AD2B+EwAdoYEA57p06WIHwEaNGrldDgAPYH4TAB2hgQDnevXqZQfAGjVquF0OAA9gfhMAHaGBAOfuv/9+OwBWqFDB7XIAeADzmwDoCA0EOPf444/7XQswJyfH7ZIARDnmNwHQERoIcO6FF17wC4C//vqr2yUBiHLMbwKgIzQQ4Nxrr73mFwB/+uknt0sCEOWY3wRAR2ggwLm5c+f6BcClS5e6XRKAKMf8JgA6QgMBzn311Vd+AXD+/PlulwQgyjG/CYCO0ECAc2vXrvULgDNnznS7JABRjvlNAHSEBgKc27lzp18AnDx5stslAYhyzG8PB8BJkybpoosuUoUKFVShQgW1bNlS8+bNK9Vr0ECAc9nZ2X4BcMyYMW6XBCDKMb89HADnzJmjjz76SBs2bNCGDRs0fPhwxcfHa82aNSV+DRoICIyEhAQ7AD700ENulwMgyjG/PRwAC1KpUiVNmzatxOvTQEBgVK1a1Q6Affr0cbscAFGO+U0AlCQdP35cb775psqWLau1a9eW+Hk0EBAYDRo0sAPgDTfc4HY5AKIc89vjAXDVqlUqX7684uLilJKSoo8++qjI9Y8cOaIDBw7YS0ZGhucbCAiESy+91A6AV199tdvlAIhyBECPB8CjR49q48aN+v777/XII4+ocuXKRX4CmJqa6vdl9bzFyw0EBMK1115r/z01bdrU7XIARDkCoMcD4MnatGmjvn37Fvo4nwACwXHbbbfZAbBOnTpulwMgyhEACYB+rrrqKvXs2bPE69NAQGAMGjTIDoCVKlVyuxwAUY757eEAOGzYMC1evFhbtmzRqlWrNHz4cMXGxuq///1viV+DBgIC47HHHrMDYGxsrHJzc90uCUAUY357OADeddddqlWrlsqWLasqVaqoTZs2pQp/Eg0EBMqzzz7r973arKwst0sCEMWY3x4OgIFAAwGBMX36dL8AuGXLFrdLAhDFmN8EQEdoICAw3n//fb8AuHz5crdLAhDFmN8EQEdoICAwFi5c6BcAv/jiC7dLAhDFmN8EQEdoICAwVqxY4RcAZ82a5XZJAKIY85sA6AgNBATGtm3b/AJgae7JDQClxfwmADpCAwGBcfDgQb8AOG7cOLdLAhDFmN8EQEdoICAwfD6f4uLi7AD46KOPul0SgCjG/CYAOkIDAYFzxhln2AFwwIABbpcDIIoxvwmAjtBAQOCcd955dgDs3r272+UAiGLMbwKgIzQQEDjNmjWzA2D79u3dLgdAFGN+EwAdoYGAwGnbtq0dAFu2bOl2OQCiGPObAOgIDQQEzs0332wHwHr16rldDoAoxvwmADpCAwGB069fPzsAnnnmmW6XAyCKMb8JgI7QQEDgPPLII3YAjI+Pl8/nc7skAFGK+U0AdIQGAgJn7NixfheD/uOPP9wuCUCUYn4TAB2hgYDAmTp1ql8A/OWXX9wuCUCUYn4TAB2hgYDAefvtt/0C4OrVq90uCUCUYn4TAB2hgYDA+fTTT/0C4OLFi90uCUCUYn4TAB2hgYDAWbZsmV8AnDNnjtslAYhSzG8CoCM0EBA4mzdv9guAr7zyitslAYhSzG8CoCM0EBA4v/32m18AfP75590uCUCUYn4TAB2hgYDAOX78uF8ATE1NdbskAFGK+U0AdIQGAgIrJSXFDoCDBw92uxwAUYr5TQB0hAYCAqt27dp2ALzjjjvcLgdAlGJ+EwAdoYGAwPrzn/9sB8BOnTq5XQ6AKMX8JgA6QgMBgXXllVfaAfCyyy5zuxwAUYr5TQB0hAYCAuu6666zA2DDhg3dLkeStGfPHu3YscPtMgAEEPObAOgIDQQEVu/eve0AeM4557hdjiRp7ty5io2N1YQJE9wuBUCAML8JgI7QQEBgDRkyxA6ASUlJbpdje+655xQXF6d58+a5XQqAAGB+EwAdoYGAwBo1apTftQCPHj0a1Pfbv3+/3/sVt1SsWFGZmZlBrQlA8DG/CYCO0EBAYE2cONEvcAU7bB07dkyvvfZascvQoUNljNGAAQOCWg+A0GB+EwAdoYGAwPrPf/7jFwB//PFHt0vSzp07VaNGDV177bU6fvy42+UACADmNwHQERoICKx58+b5BcBvvvnG7ZI0f/58Pfvsszp48KDbpQAIEOY3AdARGggIrG+++cYvAHLSBYBgYH4TAB2hgYDA+vHHH/0C4BtvvOF2SQCiEPObAOgIDQQE1u7du/0C4MSJE90uCUAUYn4TAB2hgYDAOnr0qF8AHDVqlKPXmzRpkv1ar7/+epHrfvbZZ6pUqZKMMYqNjdWYMWMcvTeA8MX8JgA6QgMBgZeUlGSHtiFDhjh6rb59+9qvtWbNmkLXmzhxosqUKSNjjJKTk/XBBx84el8A4Y35TQB0hAYCAu+cc86xQ9tdd93l6LWaN28uY4wSExMLvIRLTk6OBg4caL9fzZo1tXLlSkfvCSD8Mb8JgI7QQEDgNWzY0A5k11133Sm/Tm5urv1pYrNmzfI9vm/fPl199dX2e7Vq1Yq7fAAewfwmADpCAwGBd9lll9mh7Morrzzl11m3bp39On369PF7bMOGDapbt679+O23364jR444LR1AhGB+EwAdoYGAwOvUqZMdzP785z+f8uuceFeRSZMm2T//9NNP7ZM9YmJiNHr06ECUDSCCML8JgI7QQEDg3XHHHXZwq1Wr1im/zkMPPWS/zpIlSyT5n+xRvnx5TvYAPIr5TQB0hAYCAm/w4MF2cEtJSTnl12nbtq19SZesrCwNGDDA72SPFStWBLBqAJGE+U0AdIQGAgIvNTXV71qABZ29WxJnnXWWjDGqVq2a2rRpw8keAGzMbwKgIzQQEHjPP/+8XwD87bffSv0au3bt8nuNvKVHjx6c7AGA+S0CoCM0EBB4r7zyil9o27RpU6lfY968efbzy5Yta//vyZMnB6FiAJGG+U0AdIQGAgJvzpw5fgFw2bJlpX6N0aNH28+fPn26zjzzTDsMfvXVV0GoGkAkYX4TAB2hgYDAW7x4sV8A/PTTT0v9GjfddJP9/D179mjBggX22b9Vq1bVjh07glA5gEjB/CYAOkIDAYG3evVqvwD49ttvl/o18i7yXK1aNftn48ePt1+zRYsWfBcQ8DDmNwHQERoICLxffvnFLwBOmTKlVM//448/FBsbK2OMOnTo4PdY9+7d7dft3bt3iV7v4MGDGj58uOrUqaOEhARddNFFmjVrlv1J5ciRI0tVHwD3Mb8JgI7QQEDg/fHHH34BcOzYsaV6/pIlS+znDhs2LN9rN2rUyH584sSJRb7W3r17dcEFF8gYo6uuukoPP/ywOnfurJiYGN1yyy0yxmj27Nml/h0BuIv5TQB0hAYCAs/n8yk+Pt4OaY888kipnj9p0iT7uW+99Va+xzdv3mzfCi4+Pl5ffvlloa/VsWNHxcTEKC0tze/nI0eOtN9j+/btpaoPgPuY3wRAR2ggIDjyzto1xqhfv36lem7fvn3t5/74448FrvPxxx/bh4nPOussZWRk5Ftn/vz5Msaof//++R7bsmWLjDE6/fTTS1UbgPDA/CYAOkIDAcFRr149O8TddNNNpXpu8+bN7Xv95ubmFrreqFGj7Pdo1qxZvpNCunXrJmOMtm7dmu+5eX/7bdq0KVVtAMID85sA6AgNBARHy5Yt7XDWtm3bEj8vNzdXSUlJMsaoZcuWRa7r8/nUtWtX+3169erl93iFChVUr169Ap+7YcMGGWM0dOjQEtcGIHwwvwmAjtBAQHC0b9/e79O5klq/fr39vHvuuafY9Q8ePKj69evbz3nhhRckSfv27ZMxRldffXWBz5syZYqMMXr99ddLXBuA8MH8JgA6QgMBwXHi5VrOO++8kL9/3pnITZs2zfdYTk6OfWbw2rVrQ14bAOeY3wRAR2ggIDgGDBhgB8AzzjjDlRpq166tuLg4rVixwv5ZTk6OevfuLWOMEhMTdfz4cVdqA+AM85sA6AgNBATHo48+agfAuLg4+Xy+kNcwceJEGWNUsWJF9e3bVw888IDq16+vxo0bq3z58sV+xxBA+GJ+ezgAjh49WpdccomSk5NVpUoVdenSpdBLRhSGBgKCY9y4cX4Xgz548GDIa/D5fBo9erSqV6+usmXLqm7duhoxYoSWLl0qY4weeuihkNcEIDCY3x4OgO3atVNaWprWrFmjFStWqGPHjqpZs6Z+//33Er8GDQQEx7Rp0/wC4LZt29wuyTZo0CAZY/TDDz+4XQqAU8T89nAAPNmePXtkjNGiRYtK/BwaCAiOWbNm+QXAE7+HFwrHjh3T3r17/X7m8/n04osvyhijLl26hLQeAIHF/CYA2jZu3ChjjFavXl3i59BAQHB88cUXfgFw4cKFIX3/ZcuWKTExUdddd52GDh2qfv362fcQbtSoUb5wCCCyML8JgJKs/7Lv1KmTLrvssiLXO3LkiA4cOGAvGRkZnm8gIBiWL1/uFwDff//9kL7/unXr1LlzZ1WtWlVly5ZVcnKymjZtqrFjx+rw4cMhrQVA4BEACYCSrEtO1KpVq8D7gZ4oNTXVbyjlLV5uICAY8u61m7dMnz7d7ZIARBECIAFQgwYNUvXq1fXzzz8Xuy6fAAKhkZWV5RcAn332WbdLAhBFCIAeDoA+n08DBw7U2WefrZ9++umUXoMGAoIjNzdXsbGxdgB87LHH3C4JQBRhfns4APbv318pKSlauHChdu3aZS+l+X4PDQQET6VKlewAOGjQILfLARBFmN8eDoAFfZfPGKO0tLQSvwYNBARPnTp17L/L2267ze1yAEQR5reHA2Ag0EBA8DRt2tQOgNdee63b5QCIIsxvAqAjNBAQPFdffbUdAC+99FK3ywEQRZjfBEBHaCAgeG688UY7ADZo0MDtcgBEEeY3AdARGiiMZGZK554rJSRY/8zMdLsiONSnTx87AFatWvV/D7CvvYN9jSBhfhMAHaGBwkDTppIxhS9Nm7pdIU7RQw89ZAfAhIQE9rWXsK8RZMxvAqAjNJDLihoQJy+IOGPGjPE7Qz+bfe0N/F0jBJjfBEBHaCAXlWZIMCwi0osvvugXAHeyr6Mff9cIEeY3AdARGsglxR0e4rBRVJg5c6ZfAFzLvo5u/F0jhJjfBEBHaCCXnMqQ4NOCiDN//ny/APgV+zq68XeNEGJ+EwAdoYFckJnpbFBwFmHEWPrxx34BcC77Onrxd40QY34TAB2hgVxw7rnOBsX557v9G6CENlav7hcAX2NfRy/+rhFizG8CoCM0kAsSEpwNioQEt38DlNCvZcv6BcAX2NfRi79rhBjzmwDoCA3kAj4p8Iyc2rX9AuDj7Ovoxd81Qoz5TQB0hAZyAd8V8o7MTFU4IQDez76OXvxdI8SY3wRAR2gglzgZFIgoNU8IgL3Y19GNv2uEEPObAOgIDeQSrhfmGY0SE+0A2IV9Hd34u0YIMb8JgI7QQC7iUwJPaN26tR0AL2dfRz/+rhEizG8CoCM0kMsYElGva9eudgBsxL72Bv6uEQLMbwKgIzRQGCjusFGrVm5XCAfuvPNOOwDWiI9nX3sFf9cIMuY3AdARGiiMZGZal4JISLD+yVmBUeH++++3A2BycrL1Q/a1d7CvESTMbwKgIzQQEFxPPPGEHQCNMTp27JjbJQGIAsxvAqAjNBAQXBMmTPALgL/++qvbJQGIAsxvAqAjNBAQXK+//rpfAPzpp5/cLglAFGB+EwAdoYGA4Jo7d65fAPzuu+/cLglAFGB+EwAdoYGA4Pr666/9AuAnn3zidkkAogDzmwDoCA0EBNe6dev8AuDMmTPdLglAFGB+EwAdoYGA4Nq1a5dfAJw8ebLbJQGIAsxvAqAjNBAQXNnZ2X4BcPTo0W6XBCAKML8JgI7QQEDwlStXzg6ADz74oNvlAIgCzG8CoCM0EBB81apVswNgnz593C4HQBRgfhMAHaGBgOC74IIL7AB4ww03uF0OgCjA/CYAOkIDAcF36aWX2gGwTZs2bpcDIAowvwmAjtBAQPB17NjRDoBNmjRxuxwAUYD5TQB0hAYCgq9Hjx52AKxTp47b5QCIAsxvAqAjNBAQfH//+9/tAFipUiW3ywEQBZjfBEBHaCAg+B577DE7AMbExCg3N9ftkgBEOOY3AdARGggIvvHjx/tdDHr//v1ulwQgwjG/XQqAs2fPLvVy+PBhN0otEg0EBF9aWppfANyyZYvbJQGIcMxvlwJgTExMqZbY2Fht3rzZjVKLRAMBwffBBx/4BcDly5e7XRKACMf8djEA7t69u8TrJycnEwABj1q4cKFfAPz888/dLglAhGN+uxQAe/XqpYMHD5Z4/XvuuUe//vprECs6NTQQEHwrV670C4Dvvvuu2yUBiHDMb04CcYQGAoJv+/btfgHwpZdecrskABGO+U0AdIQGAoLv0KFDfgFw3LhxbpcEIMIxv8MgAGZnZ+uZZ55Rhw4d1LRpUzVu3NhvCWc0EBB8Pp9PcXFxdgAcPny42yUBiHDM7zAIgN27d1flypV1zz33KDU1VSNHjvRbwhkNBIRG5cqV7QDYv39/t8sBEOGY32EQACtWrKivvvrK7TJOCQ0EhMb5559vB8BbbrnF7XIARDjmdxgEwAYNGmjlypVul3FKaCAgNJo3b24HwPbt27tdDoAIx/wOgwA4b948tW/fXlu3bnW7lFKjgYDQaNu2rR0AW7Ro4XY5ACIc8zsMAuCePXt0xRVXKDY2VsnJyapUqZLfEs5oICA0br75ZjsA1q1b1+1yAEQ45ncYBMA2bdro/PPP19NPP620tDTNmDHDbwlnNBAQGvfcc48dAKtUqeJ2OQAiHPM7DAJgYmKiVqxY4XYZp4QGAkJj2LBhdgCMj4+Xz+dzuyQAEYz5HQYBsHHjxvrmm2/cLuOU0EBAaIwdO9bvYtC///672yUBiGDM7zAIgPPnz9ell16qBQsWaO/evTpw4IDfEs5oICA0pk6d6hcAMzIy3C4JQARjfodBAIyJiVFMTIxiY2P9lryfhTMaCAiNd955xy8Arlq1yu2SAEQw5ncYBMCFCxcWuYQzGggIjc8++8wvAC5evNjtkgBEMOZ3GATASEYDAaGxbNkyvwA4e/Zst0sCEMGY32ESAPfv36/58+frtdde0yuvvOK3hDMaCAiNzZs3+wXAcL9EFIDwxvwOgwA4Z84cVahQQbGxsUpJSdFpp51mL1wIGoAk7du3zy8APvfcc26XBCCCMb/DIACef/75Gjx4sP744w+3Syk1GggIjdzcXMXExNgBMDU11e2SAEQw5ncYBMCkpCRt3rzZ7TJOCQ0EhE5KSoodAO+99163ywEQwZjfYRAAu3XrprfeesuV9160aJH+9re/qVq1ajLG6P333y/V82kgIHRq165tB8Dbb7/d7XIARDDmdxgEwGnTpqlmzZpKTU3Vu+++q9mzZ/stwTRv3jw9+uijmjVrFgEQCHONGze2A+Df/vY3t8sBEMGY32EQAPMuBF3QEsoLQRMAgfB21VVX2QHwsssuc7scABGM+R0GATBclCQAHjlyxO82dRkZGZ5vICBUrr/+ejsAXnjhhW6XAyCCEQBdDIDdu3fXW2+9pYMHD7pVgp+SBMDU1FS/S1HkLV5uICBUevfubf/NnX322W6XAyCCEQBdDIAjR45UkyZNlJCQoGuuuUb//ve/tX37drfK4RNAIMwNHTrUDoCJiYlulwMgghEAw+AQcEZGhiZOnKi2bdsqISFBjRs3VmpqqpYvXx7SOvgOIBDennrqKb9P3o8cOeJ2SQAiFPM7DALgiQ4ePKi33npLt956qypVqqSaNWtq4MCBWrNmTdDfmwAIhLdJkyb5BcDMzEy3SwIQoZjfYRYAT3T8+HF99tlnuvfee/XSSy8F5T0OHTqk9PR0paenyxij8ePHKz09Xdu2bSvR82kgIHT+85//+AXA9evXu10SgAjF/A7jABgKCxYsKPCkjp49e5bo+TQQEDoff/yx39/pkiVL3C4JQIRifodxAFy3bp3OPfdct8soEg0EhM63337rFwDnzZvndkkAIhTzO4wD4IoVK0J6IehTQQMBobNhwwa/APjGG2+4XRKACMX8djEA3n///UUuPXr0IAACsO3evdsvAP773/92uyQAEYr57WIAjI2NVZMmTXTFFVcUuFxyySUEQAC2Y8eO+QXAJ5980u2SAISxY8eknTulVaukzz+XZs6U/v1vKTVV6tOH+e1aAKxXr55ee+21Qh9PT08nAALwU758eTsADhkyxO1yAISIzycdOiT9/LO0dKn00UfSjBnSP/8pPfywdNddUufOUqtW0nnnSaedJhmTf4mPl6pVky68kPntWgC89dZbdd999xX6+IoVKxQTExPCikqPAAiEVvXq1e0AeNddd/k95vP5XKoKQGnl5kq//iqtWyctXizNmiW9+KI0apQ0eLB0661S27ZS48ZS9epSuXIFB7oKFaQ6daTmzaWOHaWePaWhQ6WxY6WXX5bmzJG++UbauFHKyrKCpMT8llwMgLt27dLWrVvdevuAoIGA4Nq3b5/2799v//+GDRvaAbBbt26SpK1bt+rWW2/V4cOH3SoT8LwjR6SMDGn5cum//5XeeEN6/nnpH/+Q+vWTrrtOuvxyqUEDqXJlKTY2f5iLjZWqVJEuuMBa9/rrpXvusV7jX/+S/vMf67XT06VffpGys0+9XuZ3GJ8FHAloICC4Dh06pLPOOkv9+vXTqlWr9Ne//tUOgC1bttTjjz+uxMRENWvWzO1Sgajg80kHD0pbtkjLlknz51th7oUXrO/ODRokde9ufTrXtKlUu7aUnFzwp3Plykk1akhNmkjt2km33Sbdd5/01FPSlCnSe+9JX34prV8v7d1rfSoYKsxvAqAjNBAQfL169bJDX9myZQu8eHtRXycBvConR9q92zrM+uWX0gcfWIdFn3nG+t7c3XdL3bpZn7ZdeKFUtar1HbmCwlxCgnT22dJFF0lXXGF9Ote3rzRsmPTss9Krr0rz5knff2+Fx99/d/u3Lxrz26UAWKlSJf36668lXljUfdwAACAASURBVL9GjRphebiYBgKCr7A79py4vPPOO26XCQSNz2cFqm3brEOsn35qndE6caL0xBPWd+Z69JA6dJCaNbO+E5eSUnCQM8Z6rE4da9327a1P5u69V3r8cess2TfftA61/vCD9Z6///6/785FC+a3SwEwJiZGr776qmbPnl2iJSkpSZs3b3aj1CLRQEDw5ebmqnbt2kUGwJ07d7pdJlAix49bhzs3bJCWLLFOUkhLs85mHTbM+lTt+uutT9kuusj61C0hoeAgV6aMdNZZ1nfm/vpXqWtXqXdv6aGH/ncSxAcfWJ/+rVtnfRp47JjbWyA8ML9dDIClXQiAgHeNGDGi0PAX7reMRPQ6fNg68WHFCus6c2+/LU2ebJ3Jev/90h13WGemtmwpnX++dPrpUkxMwWEuOVmqVcv6vlzbttb37AYNsr5398IL1vfwPvnEOsT688/SgQPR96lcKDG/+Q6gIzQQEBqbNm0qNAD26NHD7fIQ4XJzpX37rEuFfPutdY25V1+VnnvOOgO1f3/pppukNm2kiy+2LkuSmFhwkMs7k7V+fekvf7GuTXfnndalScaMkaZOtS55snChtHq1daHiI0fc3gLew/wmADpCAwGhc+IZwCcukydPdrs0hJGjR61QtXq1FbLefdc643T0aGnIEKlXL6lTJ+nSS6V69Qq/JIkxUlKSdRbrn/9shb+bbrLC4D/+YYXDV1+1wuK331rhcd++0J7JilPH/CYAOkIDAaEzbdq0AgPgqlWr3C4NQeDzWRfu3bzZuvPDxx9Lr79uXQ9uxAhp4EDplluka66xDpvWqlX45UhiYqzDr+efbx2O7djROjx7//3W4drJk63Dt198Ia1c6fwacwh/zG8CoCM0EBA6Bw4cUGJiol/4S0lJUS4fuYS9w4elHTusT+UWL5bef1+aNs06UeGhh6wTF7p2tU5kaNBAOvNM6wSHkl6OpF8/afhw63IkM2ZIH35onWCxYYN1wsXx425vAYQb5jcB0BEaCAit2267zS8Atm/f3u2SPCMnx7p114YN1iHPefOsExMmTLAuRXLffdZtuDp1ki67zDoztVq1ws9gzbscyZ/+ZN3Gq0MH61ImgwdbrzdxonWpk08/tS59Eq2XI4E7mN8EQEdoICC0Pv30U78A+OSTT7pdUkTx+ayzR7dssULVZ59J77xjfUfu6aetT+P69LE+VbvqKuu7b7VqWfdbLSzExcdblyJp0MD6Xl3HjtLtt1vXlRs50jpk+9pr0ty51qdy69dblyPJyXF7a8DLmN9hEACvvPJKjRw5Mt/P9+3bpyuvvNKFikqOBgJC6/jx46pevbodAD///HO3S3JF3iHVNWusQ6qzZ1vXkhs/3jpBYeBA6zIi7dtbn66df750xhlSXFzh35GrVMn6NO6SS6zv1d18s3Uf1uHDpXHjrGvKvfeedWLFypXW5U/4RA6RivkdBgEwJiZGlStXVpcuXfT7CfeOyczMVGxsrIuVFY8GAkJv2LBhMsYoLi7O798ZkSbvkOpPP1mHVD/+2Dqk+u9/W4dA77/fOqTaubN1SPXCC61DquXKFf5pXPny1lmrjRpZ34/r1k266y7rEiRPPWWd7DBzpnWXh++/t06w4MxVeBHzO0wC4IoVK9SiRQs1bNhQW7ZskUQABFCwH3/8UcYYNW3a1O1S7EOqW7dah1Q//9w6pDp1qnVI9eGHrUOqN9xgHVJt3Ng6pFqxYvGHVOvX/98h1R49rEOqqanWIdVXX7UOqX79tXVINTPTuvwJgJJhfodJANy9e7eOHDmiW2+9VZUrV9aCBQsIgAAK1bJlS917770Be73sbOvacWvWWLfNmj3bOpt0/HjpscesQ6q33modUm3RwjqkWrly8YdU69T53yHVm26yDqkOG2YdUp02zTqkumCBdUh1+3YOqQKhwvwOgwAYGxur3bt32///ySefVEJCgkaMGEEABFCgF198UW+99Zbfz/LusfrTT9J331mHVP/zH+uQ6pNPWodUe/WyDqn+9a/WIdWzzy7+kGr16tYh1dat/3dIdcgQ65DqpEnWIdX5861Dqps2WYdUuewIEN6Y32EQAPM+ATzRu+++q/LlyxMAAY85dsz6XtzGjVagyjtLdepU65pxDz8s9e0rde58VH/5y2E1bizVrl38IdUzz7QOqbZq9b9Dqn//u3VI9fnnrUOqH35oHVJdt45DqkC0Y36HQQDcunWrfAUc81izZo1mzJjhQkUlRwMB/o4etS7xsWGD9Sncf/9r3WFh6lTpmWesM0oHDLAOp157rXWv1AsvlM45x/q0rbAQFxMjnXaadUi1aVOpZcuD+utfd9iHVJ95xjqkOmuWdUh1xQrrkOqhQxxSBZAf8zsMAmAko4EQbbKzpV27rBMLvv1W+uQT6xDniy9aJzU88oj1PbZbbrEu3NuqlXX9t2rVpMTEogNcSop1AsTFF1uHU7t0sc5yHTzY+iRu/Hhp+nTre3FffGGdVPHzz9Jvv+U/pDpq1Cj1798/9BsIQFRgfhMAHaGBEE58PumPP6zrw61da110d94863twkyZJo0dbF/rt29c6IaFdO+uEhnr1rLNOi7pjQ2ysdVLDuedaZ7JeeaX1fbg777S+W/f449ah1BkzpA8+sK4Vt2KFdXZsVlbgLzPSokUL1ahRo8CjB+Fgz5492rFjh9tlACgE85sA6AgNhEDy+axDlhkZ1j1Tv/rKutTH669bJzKMGmVdz+3uu63LilxzjdSsmXVGapUq1nfdCgtwcXHWhYD/9CfrEGqbNtbdHnr3tk5oePJJ6YUXrO/CzZljXVx41SrrMOrBg+F1GDUzM1MxMTEyxig9Pd3tcgo0d+5cxcbGasKECW6XAqAAzG8CoCM0EE6Ud024bdusy3osXmyFqVdftcLVE09IDzxgnUV63XVWCGva1AplRd2lIe9EhipVrLDXrJkV/m680brG3IMPWmek/vvfVlicO9cKj2vWSL/8En2XFnn55ZftO4E88cQTbpdTqOeee05xcXGaN2+e26UAOAnzmwDoCA0UXXJzpf37rfukrlhhHcb84APrsObzz1v3Nb3vPutSIt26WYdBGze2DotWqmQdJi0swJUrZx1mrVfPOuzarp11q61+/awzW8eMsQ7T/uc/1mHbJUuss1F37rRu+xVNAc6pbt262QGwWbNmIX///fv3+92PuLilYsWKyszMDHmdAArH/CYAOkIDhZdjx6zrwG3ebJ1A8MUX1gkF06dbJxiMGGHdTeGOO6wTEFq3tk5IqFXLOkEhJqbwAJeUZJ3o0KCBdeJDhw7WvVb797fOQh071jpRYuZM68SJb7+VfvzRupxIdrbbWyZ6ZGdnq3z58n4Ba+fOnSGt4dixY3rttdeKXYYOHSpjjAYMGBDS+gAUj/lNAHSEBgqMnBzrTM8tW/536HTuXOvTsBdftMLVo49a12274w6pa1frtlpNm1qHRM86q+gzUI2RkpOtS41ceKF16ZGOHaXbbrPu8PDoo9adGaZOtS5Z8t//SkuXWhcU3rOH68GFk48//jjfJ2zTpk1zu6x8du7cqRo1aujaa6/Vca4KDYQd5jcB0BGvN9Dx49Yh061brRMGvvpK+ugj6c03pSlTrGuz/eMf1qdueYdN27SxvsNWt65Utar1yVpRwS021rr+W61a0kUXWeGtQwfrMiR9+1onRTz5pHV/1LQ06zpwn30mLVtm3ZVh717rk0FEhwEDBuQLgF26dHG7rHzmz5+vZ599VgcPHnS7FAAF8Pr8lgiAjkRqAx0/bl2aY9s262zTr7+2bps1c6b1Kdg//2nd/3TwYOsyH9dfL119tdS8uXU3hWrVir5o74nXfatRQ2rY0Lqpffv21vfe+vSxzjzNu3TI9OnSu+9Kn35qXTx4/XrrUibRdvICnPH5fKpRo0a+AJiUlKRsjrMDKIVInd+BRAB0INQNlJtrnWWakWGd4blkifV9s7ffll56SXr2WeuCuvfdZ51pesMNUtu21kkHDRpYh0CTk4sPbhUrWvc/veAC6/tu7dpZZ5zefbd1FuvIkdZ36l5+2bpN1/z51nfe1q2zzjrl7gsIhpUrVxZ6osVHH33kdnkAIggBkADoSEkbyOezrqX2yy9WSPrmGys0vfOOdfuq8eOtUPXAA9Z12W680QpdLVtaIax6dSuUFXWSgjFShQpWyGvQwHpu27ZWCLzrLutivampVkicNs0KjZ98YoXItWutUHngQOAv2AsEyqhRowoNgPfcc4/b5QGIIARAAqAjeQ00aNAB9elj3V2hfXvrcOeFF1qHP4s7u9QY63Dq2Wdbh1ebN7eu8Xb99dbh18GDrbNX//lP6/DsW29Zh2u//to6fLt9u3U4l++ZI9q1aNGi0ABYvXr1oNwVZN++fXruued07bXX6pxzzlFiYqLi4+NVuXJlNWvWTIMGDdL777+vrKysgL83gOAhABIAHclroPPOO6BmzawTHK67zjrh4d57re/RjRtnnRDx5pvW9d2++so6YWLbNusECoIbULwT7/5R2BLIu4L4fD5NmDAh3yVnClu6d+8esPcGEHwEQAKgIzQQEBrTp08vNoQF8q4gAwcOtF+3WrVqGj58uD766CP98MMP+uabb/TWW29p8ODB9kkp//znPwP23gCCj/lNAHSEBgJCI+/uHxdccIHq1q3rF87yDg0H6q4gaWlp9ut37dpVhw4dKnRdn8+n9957T6tXrw7IewMIDeY3AdARGggIvuzsbLVo0UJvvfWWcnNz1aVLFzugNWnSRD6fT5988olatWrl+K4gJ15q5pxzztEff/wRoN8CQDhhfhMAHaGBgOA7duyYck84Pf3kAJjH5/PpyJEjjt5r+fLl9mv36dPH0WsBCF/MbwKgIzQQEHqFBcBAeO+997i0DOABzG8CoCM0EBB6wQyAs2fPtl+7cuXK2rhxY0BfH0B4YH4TAB2hgYDQC2YA3LNnjxISEuzXL1OmjLp27aoZM2bol19+Ceh7AXAP85sA6AgNBIReMAOgJE2dOlVxcXEFXmqmXr16GjJkiFauXBnw9wUQOsxvAqAjNBAQesEOgJK0atUq3X777UVeCPqmm27iDiBAhGJ+EwAdoYGA0AtFAMyTnZ2tTz75RA8++KAaN26cLwS2bds2qO8PIDiY3wRAR2ggIPRCGQBPtmnTJt10001BuwUdgNBgfhMAHaGBgNBzMwBK0vHjx1WvXj27hrS0tJDXAMAZ5jcB0BEaCAg9twOgJN1+++12DTNmzMj3+MGDBzV8+HDVqVNHCQkJuuiiizRr1iwtXrxYxhiNHDnShaoB5GF+EwAdoYGA0AuHANixY0e7hkWLFvk9tnfvXl1wwQUyxuiqq67Sww8/rM6dOysmJka33HKLjDGaPXu2K3UDsDC/CYCO0EBA6AUjAPp8vhKvu3XrVpUrV07GGFWpUkU5OTl+j3fs2FExMTH5Dg2PHDnSrnv79u2BKBvAKWJ+EwAdoYGA0AtGAJw2bZpuv/12bdq0qcj1Nm/erIYNG9rvP2XKFL/H58+fL2OM+vfvn++5W7ZskTFGp59+ekBqBnDqmN8EQEdoICD0ghEA+/btK2OMYmJidNVVV2ns2LH673//q+XLl+u7777Tm2++qTvvvNP+5M8Yo4EDB+Z7nW7duskYo61bt+Z7LO/fF23atAlIzQBOHfObAOgIDQSEXjACYNeuXQu94PPJS0pKSr5P/vJUqFBB9erVK/CxDRs2yBijoUOHBqRmAKeO+U0AdIQGCiOZmdK550oJCdY/MzPdrghB0qV9+/8FwLJlA7av09PTNXbsWHXp0kX169dXxYoVFRcXpwoVKqhOnTq6/vrrNWXKFB06dKjA5+/bt0/GGF199dUFPj5lyhQZY/T6668HpF5P4O8aQcL8JgA6QgOFgaZNJWMKX5o2dbtCBMr/7+suJ3wa1ySM9vUff/whY4yaFlBHTk6OfWbw2rVrXaguwvB3jSBjfhMAHaGBXFbUgDh5QcDt2bNHO3bsKPXzSnPGre2EfVloAAyDfV27dm3FxcVpxYoV9s9ycnLUu3dvGWOUmJio48ePu1hhBODvGiHA/CYAOkIDuag0Q4JhERRz585VbGysJkyYUKrnbdq0SVdccYWeeeYZrV+/vvhAeNJ+LDYAurivJ06cKGOMKlasqL59++qBBx5Q/fr11bhxY5UvX14tW7Z0rbaIwN81QoT5TQDUxIkTVbt2bSUkJKhJkyZavHhxiZ9LA7mkuMNDHDYKmeeee05xcXGaN29eqZ7Xo0cPO8Sdd955uv/++/XFF1/o2LFj/isWsK9LFABd2tc+n0+jR49W9erVVbZsWdWtW1cjRozQ0qVLZYzRQw895EpdEYG/a4QQ89vjAXDmzJmKj4/XSy+9pHXr1mnw4MEqX768tm3bVqLn00AuOZUhwacFpbJ//347ZJVkqVixojJL8QX9H3/8UbGxsfleJyUlRTfffLNef/11/fbbbwXuwxIFwDDb14MGDZIxRj/88IPbpYQv/q4RQsxvjwfA5s2b65577vH7Wf369fXII4+U6Pl5DXTffffp4YcfZgnFMmiQHjbm1JdBg9z/HSJgGTp0qP72t78VuzRv3lzGGDVu3LjU73H22WcXGSrj4uJ0uTEaZ4zWGyNfaQNgiM8YPXbsmPbu3ev3M5/PpxdffFHGGHXp0iWk9USUzExnAZCzg1FKBEAPB8CjR48qLi5O7733nt/P7733Xl1++eUFPufIkSM6cOCAvWRkZJTqUxIWFpZTX84zRvcbo7+c8LMiA+D554fiXyW2ZcuWKTExUdddd52GDh2qfv36qVGjRjLGqFGjRvnCIU5w7rnOAmCI9zUiHwHQwwFwx44dMsbo66+/9vv5U089pbp16xb4nNTUVNeHIAuLl5fyxuhqY/S0MfrGGK0yRYSChIRQ/KvEtm7dOnXu3FlVq1ZV2bJllZycrKZNm2rs2LE6fPhwSGuJOAkJzgJgiPc1Ih8BkACoJUuW+P181KhRhV7Jv7BPABMTE5WUlMQSiiUmRknGnPoSE+P+78CipKSkAr8DWNBS0xgNNEYfG6Ps0oQCPhWKHHwCiBAjAHo4AJ7KIeCT0UAu4LtCUSE7O1vVqlUrMPDFxMSoRYsWGvXII1pp/vfdP/Z1FOPvGiHG/PZwAJSsk0D69+/v97MGDRqU+iQQLzeQK5wMCoSFF154wf/Qbvny6tatm6ZPn+5/NjH72jvY1wgh5rfHA2DeZWBefvllrVu3Tvfdd5/Kly+vrVu3luj5NJBLuF5YyPh8Pr3xxhtq27atKleurKSkJDVq1EjPPfeccnJydPjwYcXExMgYo6effrpEr5n36V/NmjU1cOBAffzxx8rOzi54Zfa1d7CvEULMb48HQMm6EHStWrVUtmxZNWnSRIsWLSrxc2kgF/EpQdDt3r1brVq1UmHfzevQoYOWL19u//+PP/64RK/7yy+/aOXKlSW/JRz72jvY1wgR5jcB0BEayGUMiaA5dOiQGjRooLzv5N16662aM2eOfvjhB7377rtq0qSJjDG68sor7QC4a9eu4BXEvvYO9jVCgPlNAHSEBgoDxR02atXK7Qoj0m233SZjjMqUKaM5c+bke/z3339X9erV7fB35plnBr8o9rV3sK8RZMxvAqAjNFAYycy0LgWRkGD9k7MCT9nixYvtYDdq1KhC1xs3bpy9Xtu2bUNXIPvaO9jXCBLmNwHQERoI0ejqq6+WMUY1a9ZUTk5OoevNmzfPDoAPPvhgCCsEAGeY3wRAR2ggRJudO3faoa64s3q//vpre9033njD77H77ruv0JNHTl7+/ve/F/j6y5cv18CBA1WvXj2VL19e5cuXV6NGjTRixAjt37+/wOfkfW9x9+7dRdYeiPoARC7mNwHQERoI0ebll1+2g8+qVauKXPfDDz+0112zZo3fY6+//rpSU1MLXTp06CBjjOLi4jR//ny/5x47dkwDBw5UbGysEhIS1LlzZw0ZMkT33XefGjZsKGOMateurZ9//tnveX/88Yfi4uJ0zjnnFPt7OqkPQORjfhMAHaGBEG3+/ve/yxijhBLcW3XMmDEyxqhcuXI6fvx4id/jm2++UcWKFRUbG6vXXnvN77GjR4+qY8eOMsaoU6dO2rNnj9/jPp9PgwcPljFGzZo183ss7xPJTp06lbiW0tYHIDowvwmAjtBAiDY33nijjDGqXr16seteddVVMsaoaSkuxPvtt9/a4erVV1/N9/iQIUNkjFG3bt0KvU5gdna2atSoIWOMvvrqK/vnEyZMkDFGqampJa6ntPUBiA7MbwKgIzQQok3nzp1ljFHFihWLXG/9+vX2HUB69+5dotf+7rvvlJKSotjYWL3yyiv5Hl+7dq1iY2N11llnFfodvzzdu3eXMUbPPvus/bNevXrJGKPZs2eXqJ7S1gcgejC/CYCO0ECINnfffbf9vb7t27cXuE5ubq59prAxRi+88EKxr7t06VI7XKWlpRW4zp133lmik08k6cEHH5QxRiNGjLB/1qhRIxljlJGRUezzT6U+ANGD+U0AdIQGQrSZNm2aHez69++f7/Hjx49rwIABfmfJLl68uMjX/P7773XaaacpJiZG06dPL3Cd3NxcVa5cWcYYbdmypdg677rrLhlj9K9//UuSdVi4TJkyqlKlSvG/5CnUByC6ML8JgI7QQIg2Bw4cUKVKlexwd/fdd+uLL77Q0qVLNWPGDF1yySX2NQLz1snKyir09ZYtW2aHq5dffrnQ9bZu3SpjjCpXrlyiOi+44AK/8Pndd9/JGKN27dqV6vctaX0AogvzmwDoCA2EaDRr1iyVKVOmwGvixcXFafjw4fZ19Bo0aFDo6yxbtkyVKlVSTEyMpk2bVuR7/vDDDzLGqG7dusXWt2rVKvv2c3kXqp48ebKMMRo2bFiJf8/S1AcgujC/CYCO0ECIVkuWLNG1116r0047TeXKldOf/vQn9e3bVytWrJAkNWnSRMYY9evXr8Dn//DDD3a4mjp1arHvt2nTJhljlJycXOy6Xbt2lTFGY8aMsX/Wp08fGWP0zjvvlOj3K219AKIL85sA6AgNBC9avXq1/YngZ599lu/x5cuX6/TTT1dMTIymTJlSotf0+Xw688wzZYzRt99+W+h6U6dOlTFGjRo1UnZ2tv3zpk2byhijzZs3F/tep1IfgOjC/CYAOkIDwWtOPAO4bt26+a7Vl56eboerF198sVSv/cQTT8gYo0suuSTf9wqPHj2qMWPGKDY2VjVq1NDGjRvtx44dO6ayZcvqtNNOK/Y9nNQHIHowvwmAjtBAiDabNm0q9LHs7Gz7Ui3GGM2ZM8fv8R07duiMM86QMUYNGzYs8lZrqampWrZsmd/zc3Jy7OsQVqlSRXfffbeGDRumO+64Q2eddZaMMWrVqlW+s4SXL18uY4zOOOMM9e7du8BlxowZjusDED2Y3wRAR2ggRJvGjRurZcuWev7557Vw4UKlp6friy++0OjRo3Xuuefa4e+BBx7I99y33367wBNHClsWLVqU7zVyc3M1Y8YMtW7dWqeddprKli2r6tWrq3Pnzpo5c2aBdwc58dI1hS3jxo0LSH0AogPzmwDoCA2EaJKTk6OEhIQiQ1GZMmU0atSoQm/TBgCRgPlNAHSEBkI0ycnJ0Ztvvqnu3burfv36OuOMM1SmTBmdfvrpat68uYYNG6Zt27a5XSYAOMb8JgA6QgMBABB5mN8EQEdoIAAAIg/zmwDoCA0EAEDkYX4TAB2hgQAAiDzMbwKgIzQQAACRh/lNAHSEBgIAIPIwvwmAjtBAAABEHuY3AdARGggAgMjD/CYAOkIDAQAQeZjfBEBHaCAAACIP85sA6AgNBABA5GF+EwAdoYEAAIg8zG8CoCM0EAAAkYf5TQB0hAYCACDyML8JgI7QQAAARB7mNwHQERoIAIDIw/wmADpCAwEAEHmY3wRAR2ggAAAiD/ObAOgIDQQAQORhfhMAHaGBAACIPMxvAqAjNBAAAJGH+U0AdIQGAgAg8jC/CYCO0EAAAEQe5jcB0BEaCACAyMP8JgA6QgMBABB5mN8EQEdoIAAAIg/zmwDoCA0EAEDkYX4TAB2hgQAAiDzMbwKgIzQQAACRh/lNAHSEBgIAIPIwvwmAjtBAAABEHuY3AdARGggAgMjD/CYAOkIDAQAQeZjfBEBHaCAAACIP85sA6AgNBABA5GF+EwAdoYEAAIg8zG8CoCM0EAAAkYf5TQB0hAYCACDyML8JgI7QQAAARB7mNwHQERoIAIDIw/z2cAAcNWqUWrVqpcTERKWkpJzSa9BAAABEHua3hwPgiBEjNH78eD3wwAMEQAAAPIT57eEAmCctLY0ACACAhzC/CYClCoBHjhzRgQMH7CUjI8PzDQQAQKQhABIASxUAU1NTZYzJt3i5gQAAiDQEwCgLgIUFtBOX77//3u85fAIIAIC3EACjLAD++uuvWr9+fZFLdna233P4DiAAAN7C/I6yAHgqCIAAAHgL89vDAXDbtm1KT0/X448/ruTkZKWnpys9PV2HDh0q8WvQQAAARB7mt4cDYM+ePQv8juCCBQtK/Bo0EAAAkYf57eEAGAg0EAAAkYf5TQB0hAYCACDyML8JgI7QQAAARB7mNwHQERoIAIDIw/wmADpCAwEAEHmY3wRAR2ggAAAiD/ObAOgIDQQAQORhfhMAHaGBAACIPMxvAqAjNBAAAJGH+U0AdIQGAgAg8jC/CYCO0EAAAEQe5jcB0BEaCACAyMP8JgA6QgMBABB5mN8EQEdoIAAAIg/zmwDoCA0EAEDkYX4TAB2hgQAAiDzMbwKgIzQQAACRh/lNAHSEBgIAIPIwvwmAjtBAAABEHuY3AdARGggAgMjD/CYAOkIDAQAQeZjfBEBHaCAAACIP85sA6AgNBABA5GF+EwAdoYEAAIg8zG8CoCM0EAAAu7IOwwAADItJREFUkYf5TQB0hAYCACDyML8JgI7QQAAARB7mNwHQERoIAIDIw/wmADpCAwEAEHmY3wRAR2ggAAAiD/ObAOgIDQQAQORhfhMAHaGBAACIPMxvAqAjNBAAAJGH+U0AdIQGAgAg8jC/CYCO0EAAAEQe5jcB0BEaCACAyMP8JgA6QgMBABB5mN8EQEdoIAAAIg/zmwDoSFZWlowxysjI0IEDB1hYWFhYWFgiYMnIyJAxRllZWW5HCdcQAB3IayAWFhYWFhaWyFsyMjLcjhKuIQA6kJubq4yMDGVlZbn+XzOF/dcNn06yTdgubBe2C9uFbeK/ZGVlKSMjQ7m5uW5HCdcQAKPUgQN8v+FkbJOCsV0KxnYpGNulYGyX/Ngm4Y0AGKX4w8uPbVIwtkvB2C4FY7sUjO2SH9skvBEAoxR/ePmxTQrGdikY26VgbJeCsV3yY5uENwJglDpy5IhSU1N15MgRt0sJG2yTgrFdCsZ2KRjbpWBsl/zYJuGNAAgAAOAxBEAAAACPIQACAAB4DAEQAADAYwiAAAAAHkMAjGCLFi3S3/72N1WrVk3GGL3//vt+j/fs2TPfbW9atGjhUrWhU9x2kaR169apU6dOqlixopKTk9WiRQtt27bNhWpDp7jtUtitkp555hmXKg6N4rbLoUOHNHDgQJ1zzjkqV66c6tevr0mTJrlUbegUt10yMzPVs2dPVatWTYmJiWrXrp1++uknl6oNjdGjR+uSSy5RcnKyqlSpoi5duujHH3/0W8fn8yk1NVXVqlVTuXLl1Lp1a61Zs8alikOjJNtl1qxZatu2rc444wwZY5Senu5StchDAIxg8+bN06OPPqpZs2YVGgDbt2+vXbt22ctvv/3mUrWhU9x22bRpk04//XQ9+OCDWr58uTZv3qy5c+dq9+7dLlUcGsVtlxP7ZNeuXZo+fbpiYmK0efNmlyoOjeK2y913360//elPWrBggbZs2aIpU6YoLi5OH3zwgUsVh0ZR28Xn86lly5b661//qqVLl+rHH39U3759VbNmTf3+++8uVh1c7dq1U1pamtasWaMVK1aoY8eO+X7np59+WhUqVNCsWbO0evVq3XzzzapWrZoOHjzoYuXBVZLt8uqrr+rxxx/XSy+9RAAMEwTAKFFYAOzSpYtLFYWHgrbLzTffrB49erhUUXgo7JPRE3Xp0kVXXXVViCoKDwVtlwsvvFBPPPGE38+aNGmif/zjH6EszVUnb5cNGzbIGOP3ydbx48d1+umn66WXXnKjRFfs2bNHxhgtWrRIkhWMq1atqqefftpe58iRI0pJSdGLL77oVpkhd/J2OdGWLVsIgGGCABglCguAKSkpqlKlis4//3zdfffdUf8p18lO3i65ublKTk7WE088obZt26pKlSpq3rx5sWEo2hQXADMzM1WmTBm98cYbIazKfQVtl379+umSSy7RL7/8Ip/Ppy+++ELJycn68ssvXaoy9E7eLqtWrZIxRps2bfJbr2rVqurZs2eIq3PPxo0bZYzR6tWrJUmbN2+WMUbLly/3W69z586644473CjRFSdvlxMRAMMHATBKFDS4Zs6cqblz52r16tWaM2eOLr74Yl144YWeuir7ydtl165dMsYoKSlJ48ePV3p6usaMGaOYmBgtXLjQxUpDq7gAOHbsWFWqVEnZ2dkhrMp9BW2Xo0eP6o477pAxRmXKlFHZsmX16quvulShO07eLseOHVOtWrV04403at++fTp69KjGjBkjY4zatm3rYqWh4/P51KlTJ1122WX2z77++msZY7Rjxw6/dfv06ePp7XIiAmD4IABGiZIc0tu5c6fi4+M1a9asEFXlvpO3y44dO2SMUffu3f3W69Spk2655ZZQl+ea4vqlXr16GjRoUAgrCg8FbZdx48apbt26mjNnjlauXKkJEyYoOTlZn376qUtVhl5B22XZsmW6+OKLZYxRXFyc2rVrpw4dOqhDhw4uVRlaAwYMUK1atZSRkWH/LC8A7ty502/du+++W+3atQt1ia4oaLuciAAYPgiAUaIkAVCSzjvvPL/vp0S7k7fL0aNHVaZMGT355JN+6z300EO69NJLQ12ea4rql8WLF8sYoxUrVoS4KvedvF0OHz6s+Ph4zZ0712+93r17e2agS0X3S1ZWlvbs2SNJat68uQYMGBDK0lwxaNAgVa9eXT///LPfz71+CLiw7XIiAmD4IABGiZIEwL179yohIUGvvPJKiKpyX0HbpVWrVvlOAunatWu+TwWjWVH90rNnTzVt2jTEFYWHk7fLgQMHZIzRvHnz/Nbr27evrrnmmlCX55qS/Pvlp59+UmxsrObPnx+iqkLP5/Np4MCBOvvsswu85E3eSSBjx461f3b06NGoPwmkuO1yIgJg+CAARrBDhw4pPT1d6enpMsbY32nbtm2bDh06pCFDhmjJkiXasmWLFixYoFatWumcc86J6ssRSEVvF0l67733FB8fr6lTp2rjxo2aMGGC4uLiov5L/cVtF8kKPElJSZo8ebKLlYZWcduldevWuvDCC7VgwQL9/PPPSktLU7ly5aL+WoDFbZe3335bCxYs0ObNm/XBBx+oVq1auu6661yuOrj69++vlJQULVy40O+SSYcPH7bXefrpp5WSkqL33ntPq1evVvfu3aP+MjAl2S6//fab0tPT9dFHH8kYo5kzZyo9PV27du1ysXJvIwBGsAULFhR44d6ePXvq8OHD9lmu8fHxqlmzpnr27Knt27e7XXbQFbVd8rz88ss677zzVK5cOV188cVRf003qWTbZcqUKUpMTFRWVpZ7hYZYcdtl165d6tWrl84++2yVK1dO9erV07PPPiufz+du4UFW3Hb517/+perVq9v/fvnHP/6ho0ePult0kBV2sfS0tDR7nbwLQVetWlUJCQm6/PLLCzwbNpqUZLukpaUVuE5qaqprdXsdARAAAMBjCIAAAAAeQwAEAADwGAIgAACAxxAAAQAAPIYACAAA4DEEQAAAAI8hAAIAAHgMARAAAMBjCIAAolLePUeNMbr44ovdLqdQrVu3tuvk/qgAQoUACCAq5QXAzz77THv37rV/vmbNGl133XWqVauWjDF67rnnCn2Nnj176uGHHw5qnb/99puWLl1KAAQQUgRAAFEpLwCeHKqWLl2qoUOH6s0331TVqlULDYC5ubmqXLmylixZ4lqtABAsBEAAYW/Pnj0666yz9NRTT9k/+/bbbxUfH6/58+cX+JyShKpatWoVGgAXL16sM888U7m5ufZrzZo1S1dccYUSExPVqFEjv3CYlpamlJQUffjhh6pbt64SExN1/fXX6/fff9eMGTNUq1YtnXbaaRo0aJCOHz9e6loBIJAIgAAiwkcffaT4+Hh9//33OnTokM477zwNHjy40PWdBsChQ4eqd+/efq9Vv359zZ07Vxs2bNANN9ygWrVqKScnR5IVAOPj43XNNddo+fLlWrRokc444wy1bdtWN910k9auXasPP/xQZcuW1cyZM0tdKwAEEgEQQMQYMGCA6tatq9tuu00NGzZUdnZ2oes6DYB169bVnDlz/F5r2rRp9uNr166VMUbr16+XZAVAY4w2bdpkr9OvXz8lJSXp0KFD9s/atWunfv36lbpWAAgkAiCAiHH48GHVqVNH8fHxWrlyZZHrOgmA69atU1JSkg4fPuz3WkuXLrXX2bdvn4wxWrRokSQrACYlJfm9zogRI3TBBRf4/eyOO+5Qt27dSl0rAAQSARBAxFizZo3KlSunuLg4+9O5wjgJgE8//bS6dOlS5Gvt379fxhgtWLBA0v++A3ii1NTUfJeg6dmzp99rl7RWAAgkAiCAiHD06FFdfPHF6tmzp8aMGaMqVaooMzOz0PWdBMBWrVrp5ZdfLvK1CIAAIhkBEEBEGDp0qGrXrq0DBw4oNzdXl19+uTp27Fjo+oWFqqNHjyo9PV3p6emqVq2ahg4dqvT0dG3cuFGStHv3bpUpU0a7d+8u8rUIgAAiGQEQQNhbsGCBypQpoy+//NL+2bZt25SSkqJJkyYV+JzCQtWJdwg5cWndurUkadq0afrLX/5S7GsRAAFEMgIggKh0qqGqU6dOGjt2bJCqKhgBEECoEQABRKW8UJWYmKhWrVqV+Hljx47V9u3bg1iZv/bt2yspKYkACCCkCIAAolJOTo42btyojRs3hjTQldYvv/xi13n06FG3ywHgEQRAAAAAjyEAAgAAeAwBEAAAwGMIgAAAAB5DAAQAAPAYAiAAAIDHEAABAAA8hgAIAADgMQRAAAAAj/k/70sdvL9xYfAAAAAASUVORK5CYII=" width="640"></div>
</div>
</div>
<div class="section" id="id2">
<h3>2D Plot of Reciprocal Lattice with Excitation Error<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>The same plot as above but a little zoomed out will show also the incident wave vector.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">Ewald_Sphere</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Circle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="n">K0</span><span class="p">),</span> <span class="n">K0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Plot 2D</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">g</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">g</span><span class="p">[:,</span><span class="mi">2</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">K0</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">Ewald_Sphere</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">quiver</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">g</span><span class="p">[</span><span class="mi">2001</span><span class="p">,</span><span class="mi">0</span><span class="p">]],[</span><span class="n">K0</span><span class="p">,</span><span class="n">K0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="n">g</span><span class="p">[</span><span class="mi">2001</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">g</span><span class="p">[</span><span class="mi">2001</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="mi">0</span><span class="p">],[</span><span class="o">-</span><span class="n">K0</span><span class="p">,</span> <span class="o">-</span><span class="n">K0</span><span class="o">+</span><span class="mf">0.58</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.58</span><span class="p">],</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">,</span> <span class="n">scale</span> <span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="o">.</span><span class="mi">1</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">19.5</span><span class="p">,</span><span class="o">-.</span><span class="mi">3</span><span class="p">,</span><span class="sa">r</span><span class="s1">&#39;$\vec</span><span class="si">{S_g}</span><span class="s1">$&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="sa">r</span><span class="s1">&#39;$\vec</span><span class="si">{g}</span><span class="s1">_</span><span class="si">{ZOLZ}</span><span class="s1">$&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">17.1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="sa">r</span><span class="s1">&#39;$\vec</span><span class="si">{K_g}</span><span class="s1">$&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="sa">r</span><span class="s1">&#39;$\vec</span><span class="si">{K_0}</span><span class="s1">$&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>


<span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x [1/nm]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;z [1/nm]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">17</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="output_javascript"></div>
<script type="text/javascript">
var element = document.currentScript.previousSibling.previousSibling;
/* Put everything inside the global mpl namespace */
/* global mpl */
window.mpl = {};

mpl.get_websocket_type = function () {
    if (typeof WebSocket !== 'undefined') {
        return WebSocket;
    } else if (typeof MozWebSocket !== 'undefined') {
        return MozWebSocket;
    } else {
        alert(
            'Your browser does not have WebSocket support. ' +
                'Please try Chrome, Safari or Firefox ≥ 6. ' +
                'Firefox 4 and 5 are also supported but you ' +
                'have to enable WebSockets in about:config.'
        );
    }
};

mpl.figure = function (figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = this.ws.binaryType !== undefined;

    if (!this.supports_binary) {
        var warnings = document.getElementById('mpl-warnings');
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent =
                'This browser does not support binary websocket messages. ' +
                'Performance may be slow.';
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = document.createElement('div');
    this.root.setAttribute('style', 'display: inline-block');
    this._root_extra_style(this.root);

    parent_element.appendChild(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen = function () {
        fig.send_message('supports_binary', { value: fig.supports_binary });
        fig.send_message('send_image_mode', {});
        if (fig.ratio !== 1) {
            fig.send_message('set_dpi_ratio', { dpi_ratio: fig.ratio });
        }
        fig.send_message('refresh', {});
    };

    this.imageObj.onload = function () {
        if (fig.image_mode === 'full') {
            // Full images could contain transparency (where diff images
            // almost always do), so we need to clear the canvas so that
            // there is no ghosting.
            fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
        }
        fig.context.drawImage(fig.imageObj, 0, 0);
    };

    this.imageObj.onunload = function () {
        fig.ws.close();
    };

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
};

mpl.figure.prototype._init_header = function () {
    var titlebar = document.createElement('div');
    titlebar.classList =
        'ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix';
    var titletext = document.createElement('div');
    titletext.classList = 'ui-dialog-title';
    titletext.setAttribute(
        'style',
        'width: 100%; text-align: center; padding: 3px;'
    );
    titlebar.appendChild(titletext);
    this.root.appendChild(titlebar);
    this.header = titletext;
};

mpl.figure.prototype._canvas_extra_style = function (_canvas_div) {};

mpl.figure.prototype._root_extra_style = function (_canvas_div) {};

mpl.figure.prototype._init_canvas = function () {
    var fig = this;

    var canvas_div = (this.canvas_div = document.createElement('div'));
    canvas_div.setAttribute(
        'style',
        'border: 1px solid #ddd;' +
            'box-sizing: content-box;' +
            'clear: both;' +
            'min-height: 1px;' +
            'min-width: 1px;' +
            'outline: 0;' +
            'overflow: hidden;' +
            'position: relative;' +
            'resize: both;'
    );

    function on_keyboard_event_closure(name) {
        return function (event) {
            return fig.key_event(event, name);
        };
    }

    canvas_div.addEventListener(
        'keydown',
        on_keyboard_event_closure('key_press')
    );
    canvas_div.addEventListener(
        'keyup',
        on_keyboard_event_closure('key_release')
    );

    this._canvas_extra_style(canvas_div);
    this.root.appendChild(canvas_div);

    var canvas = (this.canvas = document.createElement('canvas'));
    canvas.classList.add('mpl-canvas');
    canvas.setAttribute('style', 'box-sizing: content-box;');

    this.context = canvas.getContext('2d');

    var backingStore =
        this.context.backingStorePixelRatio ||
        this.context.webkitBackingStorePixelRatio ||
        this.context.mozBackingStorePixelRatio ||
        this.context.msBackingStorePixelRatio ||
        this.context.oBackingStorePixelRatio ||
        this.context.backingStorePixelRatio ||
        1;

    this.ratio = (window.devicePixelRatio || 1) / backingStore;
    if (this.ratio !== 1) {
        fig.send_message('set_dpi_ratio', { dpi_ratio: this.ratio });
    }

    var rubberband_canvas = (this.rubberband_canvas = document.createElement(
        'canvas'
    ));
    rubberband_canvas.setAttribute(
        'style',
        'box-sizing: content-box; position: absolute; left: 0; top: 0; z-index: 1;'
    );

    var resizeObserver = new ResizeObserver(function (entries) {
        var nentries = entries.length;
        for (var i = 0; i < nentries; i++) {
            var entry = entries[i];
            var width, height;
            if (entry.contentBoxSize) {
                if (entry.contentBoxSize instanceof Array) {
                    // Chrome 84 implements new version of spec.
                    width = entry.contentBoxSize[0].inlineSize;
                    height = entry.contentBoxSize[0].blockSize;
                } else {
                    // Firefox implements old version of spec.
                    width = entry.contentBoxSize.inlineSize;
                    height = entry.contentBoxSize.blockSize;
                }
            } else {
                // Chrome <84 implements even older version of spec.
                width = entry.contentRect.width;
                height = entry.contentRect.height;
            }

            // Keep the size of the canvas and rubber band canvas in sync with
            // the canvas container.
            if (entry.devicePixelContentBoxSize) {
                // Chrome 84 implements new version of spec.
                canvas.setAttribute(
                    'width',
                    entry.devicePixelContentBoxSize[0].inlineSize
                );
                canvas.setAttribute(
                    'height',
                    entry.devicePixelContentBoxSize[0].blockSize
                );
            } else {
                canvas.setAttribute('width', width * fig.ratio);
                canvas.setAttribute('height', height * fig.ratio);
            }
            canvas.setAttribute(
                'style',
                'width: ' + width + 'px; height: ' + height + 'px;'
            );

            rubberband_canvas.setAttribute('width', width);
            rubberband_canvas.setAttribute('height', height);

            // And update the size in Python. We ignore the initial 0/0 size
            // that occurs as the element is placed into the DOM, which should
            // otherwise not happen due to the minimum size styling.
            if (width != 0 && height != 0) {
                fig.request_resize(width, height);
            }
        }
    });
    resizeObserver.observe(canvas_div);

    function on_mouse_event_closure(name) {
        return function (event) {
            return fig.mouse_event(event, name);
        };
    }

    rubberband_canvas.addEventListener(
        'mousedown',
        on_mouse_event_closure('button_press')
    );
    rubberband_canvas.addEventListener(
        'mouseup',
        on_mouse_event_closure('button_release')
    );
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband_canvas.addEventListener(
        'mousemove',
        on_mouse_event_closure('motion_notify')
    );

    rubberband_canvas.addEventListener(
        'mouseenter',
        on_mouse_event_closure('figure_enter')
    );
    rubberband_canvas.addEventListener(
        'mouseleave',
        on_mouse_event_closure('figure_leave')
    );

    canvas_div.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        on_mouse_event_closure('scroll')(event);
    });

    canvas_div.appendChild(canvas);
    canvas_div.appendChild(rubberband_canvas);

    this.rubberband_context = rubberband_canvas.getContext('2d');
    this.rubberband_context.strokeStyle = '#000000';

    this._resize_canvas = function (width, height, forward) {
        if (forward) {
            canvas_div.style.width = width + 'px';
            canvas_div.style.height = height + 'px';
        }
    };

    // Disable right mouse context menu.
    this.rubberband_canvas.addEventListener('contextmenu', function (_e) {
        event.preventDefault();
        return false;
    });

    function set_focus() {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'mpl-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'mpl-button-group';
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'mpl-button-group';
            continue;
        }

        var button = (fig.buttons[name] = document.createElement('button'));
        button.classList = 'mpl-widget';
        button.setAttribute('role', 'button');
        button.setAttribute('aria-disabled', 'false');
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));

        var icon_img = document.createElement('img');
        icon_img.src = '_images/' + image + '.png';
        icon_img.srcset = '_images/' + image + '_large.png 2x';
        icon_img.alt = tooltip;
        button.appendChild(icon_img);

        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    var fmt_picker = document.createElement('select');
    fmt_picker.classList = 'mpl-widget';
    toolbar.appendChild(fmt_picker);
    this.format_dropdown = fmt_picker;

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = document.createElement('option');
        option.selected = fmt === mpl.default_extension;
        option.innerHTML = fmt;
        fmt_picker.appendChild(option);
    }

    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message';
    toolbar.appendChild(status_bar);
    this.message = status_bar;
};

mpl.figure.prototype.request_resize = function (x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', { width: x_pixels, height: y_pixels });
};

mpl.figure.prototype.send_message = function (type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
};

mpl.figure.prototype.send_draw_message = function () {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({ type: 'draw', figure_id: this.id }));
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
};

mpl.figure.prototype.handle_resize = function (fig, msg) {
    var size = msg['size'];
    if (size[0] !== fig.canvas.width || size[1] !== fig.canvas.height) {
        fig._resize_canvas(size[0], size[1], msg['forward']);
        fig.send_message('refresh', {});
    }
};

mpl.figure.prototype.handle_rubberband = function (fig, msg) {
    var x0 = msg['x0'] / fig.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / fig.ratio;
    var x1 = msg['x1'] / fig.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / fig.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0,
        0,
        fig.canvas.width / fig.ratio,
        fig.canvas.height / fig.ratio
    );

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
};

mpl.figure.prototype.handle_figure_label = function (fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
};

mpl.figure.prototype.handle_cursor = function (fig, msg) {
    var cursor = msg['cursor'];
    switch (cursor) {
        case 0:
            cursor = 'pointer';
            break;
        case 1:
            cursor = 'default';
            break;
        case 2:
            cursor = 'crosshair';
            break;
        case 3:
            cursor = 'move';
            break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
};

mpl.figure.prototype.handle_message = function (fig, msg) {
    fig.message.textContent = msg['message'];
};

mpl.figure.prototype.handle_draw = function (fig, _msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
};

mpl.figure.prototype.handle_image_mode = function (fig, msg) {
    fig.image_mode = msg['mode'];
};

mpl.figure.prototype.handle_history_buttons = function (fig, msg) {
    for (var key in msg) {
        if (!(key in fig.buttons)) {
            continue;
        }
        fig.buttons[key].disabled = !msg[key];
        fig.buttons[key].setAttribute('aria-disabled', !msg[key]);
    }
};

mpl.figure.prototype.handle_navigate_mode = function (fig, msg) {
    if (msg['mode'] === 'PAN') {
        fig.buttons['Pan'].classList.add('active');
        fig.buttons['Zoom'].classList.remove('active');
    } else if (msg['mode'] === 'ZOOM') {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.add('active');
    } else {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.remove('active');
    }
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Called whenever the canvas gets updated.
    this.send_message('ack', {});
};

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function (fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = 'image/png';

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src
                );
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data
            );
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        } else if (
            typeof evt.data === 'string' &&
            evt.data.slice(0, 21) === 'data:image/png;base64'
        ) {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig['handle_' + msg_type];
        } catch (e) {
            console.log(
                "No handler for the '" + msg_type + "' message type: ",
                msg
            );
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log(
                    "Exception inside the 'handler_" + msg_type + "' callback:",
                    e,
                    e.stack,
                    msg
                );
            }
        }
    };
};

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function (e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e) {
        e = window.event;
    }
    if (e.target) {
        targ = e.target;
    } else if (e.srcElement) {
        targ = e.srcElement;
    }
    if (targ.nodeType === 3) {
        // defeat Safari bug
        targ = targ.parentNode;
    }

    // pageX,Y are the mouse positions relative to the document
    var boundingRect = targ.getBoundingClientRect();
    var x = e.pageX - (boundingRect.left + document.body.scrollLeft);
    var y = e.pageY - (boundingRect.top + document.body.scrollTop);

    return { x: x, y: y };
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys(original) {
    return Object.keys(original).reduce(function (obj, key) {
        if (typeof original[key] !== 'object') {
            obj[key] = original[key];
        }
        return obj;
    }, {});
}

mpl.figure.prototype.mouse_event = function (event, name) {
    var canvas_pos = mpl.findpos(event);

    if (name === 'button_press') {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * this.ratio;
    var y = canvas_pos.y * this.ratio;

    this.send_message(name, {
        x: x,
        y: y,
        button: event.button,
        step: event.step,
        guiEvent: simpleKeys(event),
    });

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
};

mpl.figure.prototype._key_event_extra = function (_event, _name) {
    // Handle any extra behaviour associated with a key event
};

mpl.figure.prototype.key_event = function (event, name) {
    // Prevent repeat events
    if (name === 'key_press') {
        if (event.which === this._key) {
            return;
        } else {
            this._key = event.which;
        }
    }
    if (name === 'key_release') {
        this._key = null;
    }

    var value = '';
    if (event.ctrlKey && event.which !== 17) {
        value += 'ctrl+';
    }
    if (event.altKey && event.which !== 18) {
        value += 'alt+';
    }
    if (event.shiftKey && event.which !== 16) {
        value += 'shift+';
    }

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, { key: value, guiEvent: simpleKeys(event) });
    return false;
};

mpl.figure.prototype.toolbar_button_onclick = function (name) {
    if (name === 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message('toolbar_button', { name: name });
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function (tooltip) {
    this.message.textContent = tooltip;
};
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis, CTRL fixes aspect", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";/* global mpl */

var comm_websocket_adapter = function (comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function () {
        comm.close();
    };
    ws.send = function (m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function (msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data']);
    });
    return ws;
};

mpl.mpl_figure_comm = function (comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = document.getElementById(id);
    var ws_proxy = comm_websocket_adapter(comm);

    function ondownload(figure, _format) {
        window.open(figure.canvas.toDataURL());
    }

    var fig = new mpl.figure(id, ws_proxy, ondownload, element);

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element;
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error('Failed to find cell for figure', id, fig);
        return;
    }
    fig.cell_info[0].output_area.element.one(
        'cleared',
        { fig: fig },
        fig._remove_fig_handler
    );
};

mpl.figure.prototype.handle_close = function (fig, msg) {
    var width = fig.canvas.width / fig.ratio;
    fig.cell_info[0].output_area.element.off(
        'cleared',
        fig._remove_fig_handler
    );

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable();
    fig.parent_element.innerHTML =
        '<img src="' + dataURL + '" width="' + width + '">';
    fig.close_ws(fig, msg);
};

mpl.figure.prototype.close_ws = function (fig, msg) {
    fig.send_message('closing', msg);
    // fig.ws.close()
};

mpl.figure.prototype.push_to_output = function (_remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width / this.ratio;
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] =
        '<img src="' + dataURL + '" width="' + width + '">';
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message('ack', {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () {
        fig.push_to_output();
    }, 1000);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'btn-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'btn-group';
    var button;
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'btn-group';
            continue;
        }

        button = fig.buttons[name] = document.createElement('button');
        button.classList = 'btn btn-default';
        button.href = '#';
        button.title = name;
        button.innerHTML = '<i class="fa ' + image + ' fa-lg"></i>';
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));
        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    // Add the status bar.
    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message pull-right';
    toolbar.appendChild(status_bar);
    this.message = status_bar;

    // Add the close button to the window.
    var buttongrp = document.createElement('div');
    buttongrp.classList = 'btn-group inline pull-right';
    button = document.createElement('button');
    button.classList = 'btn btn-mini btn-primary';
    button.href = '#';
    button.title = 'Stop Interaction';
    button.innerHTML = '<i class="fa fa-power-off icon-remove icon-large"></i>';
    button.addEventListener('click', function (_evt) {
        fig.handle_close(fig, {});
    });
    button.addEventListener(
        'mouseover',
        on_mouseover_closure('Stop Interaction')
    );
    buttongrp.appendChild(button);
    var titlebar = this.root.querySelector('.ui-dialog-titlebar');
    titlebar.insertBefore(buttongrp, titlebar.firstChild);
};

mpl.figure.prototype._remove_fig_handler = function (event) {
    var fig = event.data.fig;
    fig.close_ws(fig, {});
};

mpl.figure.prototype._root_extra_style = function (el) {
    el.style.boxSizing = 'content-box'; // override notebook setting of border-box.
};

mpl.figure.prototype._canvas_extra_style = function (el) {
    // this is important to make the div 'focusable
    el.setAttribute('tabindex', 0);
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    } else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }
};

mpl.figure.prototype._key_event_extra = function (event, _name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager) {
        manager = IPython.keyboard_manager;
    }

    // Check for shift+enter
    if (event.shiftKey && event.which === 13) {
        this.canvas_div.blur();
        // select the cell after this one
        var index = IPython.notebook.find_cell_index(this.cell_info[0]);
        IPython.notebook.select(index + 1);
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    fig.ondownload(fig, null);
};

mpl.find_output_cell = function (html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i = 0; i < ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code') {
            for (var j = 0; j < cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] === html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
};

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel !== null) {
    IPython.notebook.kernel.comm_manager.register_target(
        'matplotlib',
        mpl.mpl_figure_comm
    );
}

</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAHgCAYAAAA10dzkAAAgAElEQVR4nOzdeZxN9f8H8PfMmBnGFtmmmIaSnZCSkrVB9hRJmiQRSiIp1agQLVSypKK+JLL7FUkZKktahuw0ocmaLCMZxtzX74/jXC5zx8yce++5c96v5+NxHn27y/m87/m+53xenXvOuQIiIiIiUkXsLoCIiIiIAosBkIiIiEgZBkAiIiIiZRgAiYiIiJRhACQiIiJShgGQiIiISBkGQCIiIiJlGACJiIiIlGEAJCIiIlKGAZCIiIhIGQZAIiIiImUYAImIiIiUYQAkIiIiUoYBkIiIiEgZBkAiIiIiZRgAiYiIiJRhACQiIiJShgGQiIiISBkGQCIiIiJlGACJiIiIlGEAJCIiIlKGAZCIiIhIGQZAIiIiImUYAImIiIiUYQAkIiIiUoYBkIiIiEgZBkAiIiIiZRgAiYiIiJRhACQiIiJShgGQiIiISBkGQCIiIiJlGACJiIiIlGEAJCIiIlKGAZCIiIhIGQZAIiIiImUYAImIiIiUYQAkIiIiUoYBkIiIiEgZBkAiIiIiZRgAiYiIiJRhACQiIiJShgGQiIiISBkGQCIiIiJlGACJiIiIlGEAJCIiIlKGAZCIiIhIGQZAIiIiImUYAImIiIiUYQAkIiIiUoYBkIiIiEgZBkAiIiIiZRgAiYiIiJRhACQiIiJShgGQiIiISBkGQCIiIiJlGACJiIiIlGEAtCAjIwMpKSk4fvw4Tpw4wYULFy5cuHDJA8vx48eRkpKCjIwMu6OEbRgALUhJSYGIcOHChQsXLlzy4JKSkmJ3lLANA6AFx48fdzeQ3f81E+iladOmEBH89ttvttfChQsXLrlZxowZAxHBmDFjbK+FS2AX8wDO8ePH7Y4StmEAtODEiRMQEZw4ccLuUgIuLi4OIoLdu3fbXQoRUa5Mnz4dIoLhw4fbXQoFmOb528QAaIHmBmIAJKK87osvvoCIYMCAAXaXQgGmef42MQBaoLmBGACJKK9bvXo1RATx8fF2l0IBpnn+NjEAWqC5gRgAiSiv27JlC0QE7dq1s7sUCjDN87eJAdACzQ3EAEhEed3+/fshImjYsKHdpVCAaZ6/TQyAFmhuIAZAIsrrTp8+DRFB9erV7S6FAkzz/G1iALRAcwMxABKRE+TPnx9ly5a1uwwKMM3zt4kB0ALNDcQASEROUKZMGRQsWNDuMijANM/fJgZACzQ3EAMgETlBlSpVICI4e/as3aVQAGmev00MgBZobiAGQCJyggYNGkBEcOjQIbtLoQDSPH+bGAAt0NxADIBE5AStW7eGiGDHjh12l0IBpHn+NjEAWqC5gRgAicgJunXrBhHBunXr7C6FAkjz/G1iALRAcwMxABKRE/Tv3x8igqVLl9pdCgWQ5vnbxABogeYGYgAkIid48cUXISKYOXOm3aVQAGmev00MgBZobiAGQCJygrFjx0JEMHHiRLtLoQDSPH+bGAAt0NxADIBE5ARTp06FiGDkyJF2l0IBpHn+NjEAWqC5gRgAicgJFixYABHB4MGD7S6FAkjz/G1iALRAcwMxABKRE6xcuRIigp49e9pdCgWQ5vnbxABogeYGYgAkIifYuHEjRASdOnWyuxQKIM3zt4kB0ALNDcQASEROsHfvXogImjZtancpFECa528TA6AFmhuIAZCInCA1NRUigtq1a9tdCgWQ5vnbxABogeYGYgAkIidwuVwICwtDbGys3aVQAGmev00MgBZobiAGQCJyihIlSuCqq66yuwwKIM3zt4kB0ALNDcQASEROccMNNyAkJAQZGRl2l0IBonn+NjEAWqC5gRgAicgp6tWrBxHB0aNH7S6FAkTz/G1iALRAcwMxABKRU5j7s+TkZLtLoQDRPH+bGAAt0NxADIBE5BRdunSBiOCXX36xuxQKEM3zt4kB0ALNDcQASERO0bt3b4gIvvnmG7tLoQDRPH+bGAAt0NxADIBE5BRDhw6FiGDOnDl2l0IBonn+NjEAWqC5gRgAicgpxowZAxHBlClT7C6FAkTz/G3KEwFw1apVaNOmDaKjoyEiWLBggcfz8fHxEBGP5dZbb73ieufOnYsqVaogIiICVapUwfz583NUl+YGYgAkIqeYMmUKRASvv/663aVQgGiev015IgAuWbIEw4YNw7x587wGwJYtW+LAgQPu5Z9//slynWvWrEFYWBhGjRqFbdu2YdSoUciXLx/WrVuX7bo0NxADIBE5xeeffw4RwXPPPWd3KRQgmudvU54IgBfzFgDbt2+fo/V07twZLVu29HisRYsWuP/++7O9Ds0NxABIRE6xfPlyiAj69OljdykUIJrnb5NjAmDRokVRsmRJVKxYEY8++igOHTqU5XrKlSuHsWPHejw2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Z/eO8fDhw0hMTHRfFVemTBns27cvW+tPTExEREQEChUqhEcffRSDBg1C+fLlISIYOXKkHz4REZGnBx98ECKCtWvXejzuq/0c2Ufz/G1iALRAcwN5C4DmzU+jo6Pdj40dO9a9s7z11luveI5Meno6rr/+ekRGRuLXX391P56amopq1aohX7582Llzp08/DxHRpZ544gmICJYuXerxuC/2c2QvzfO3iQHQAs0NlFkAPHXqFEJDQyEiaNWqlcfru3bt6t459uzZM8t1L1u2DCKCHj16XPbcrFmzICJ47rnnfPI5iIi8efHFFyEimDlzpvsxX+3nTKmpqXj++edRoUIFREZGokaNGpg3bx6+++47iAiGDx/u089EBs3zt4kB0ALNDZRZAFyzZo1753dpQDt16hRq1qzpfn7ChAle1/3cc89BRPDZZ59d9tzRo0chImjQoIHPPgsRUWbMo3oX7698tZ8DgCNHjrivNG7atCmeffZZtGvXDiEhIbj//vshIli0aJFfPpt2mudvU54IgKtWrUKbNm0QHR0NEcGCBQs8nne5XEhISEB0dDTy58+PRo0aYfPmzVdc79y5c1GlShVERESgSpUqmD9/fo7q0txAmQXAiRMnund8s2fPvuw9ycnJ7p9ICg8Px/fff5/puu+9916ICH7++edMny9RogRKlizpk89BROTNtGnTICIYMWKE+zFf7ecA4yKTkJAQTJs2zePx4cOHu8f4888/ffZ56ALN87cpTwTAJUuWYNiwYZg3b16mAXD06NEoXLgw5s2bh02bNqFLly6Ijo5Gamqq13WuWbMGYWFhGDVqFLZt24ZRo0YhX758WLduXbbr0txAmQXAxx57zL3TuvSqOdPSpUvdX5+ULl0aKSkpl73mrrvugohg165dma6jQoUKiIiI8MnnICLyZuHChRARDB482P2Yr/Zz5qkujz/++GXP7d69GyKC4sWL++7DkAfN87cpTwTAi10aAF0uF8qUKYPRo0e7H0tLS0PRokUxefJkr+vp3LkzWrZs6fFYixYtcP/992e7Fs0NlFkAvOWWWyBi/AZmRkaG1/eOGDHCvQOtV6/eZSdLMwASUTBYuXLlZefz+Wo/17FjR4gI9uzZc9l7zbmlWbNmvvsw5EHz/G3K8wEwOTkZIuJxtSgAtGvXDg899JDX9ZQrVw5jx471eGzs2LGIiYnJ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zfO3yacBsGPHjpg9e7YvV5lty5Ytc9/b71Lx8fEeV26NGTMG119/PfLnz49ixYrhjjvuwJdffpnjMTU3EAMgEWnTqlUriAh27txpdylkkeb52+TTAPjhhx8iJiYGCQkJmDt3LhYtWuSxOI3mBmIAJCJtHnjgAYgIfvzxR7tLIYs0z98mv9wIOrMlkDeCDhTNDcQASETa9OvXDyKCZcuW2V0KWaR5/jY57j6AgaS5gRgAiUibYcOGQUQwa9Ysu0shizTP3yafBMCuXbti9uzZSE1N9cXq8gzNDcQASETavPnmmxARTJo0ye5SyCLN87fJJwFw+PDhqFOnDiIjI3HXXXfhvffew59//umLVQc1zQ3EAEhE2nz00UcQEYwaNcruUsgizfO3yadfAaekpGDChAmIi4tDZGQkateujYSEBPz666++HCZoaG4gBkAi0mb+/PkQEQwZMsTuUsgizfO3yW/nAKampmL27Nl44IEHUKxYMcTExKBfv37YvHmzv4YMOM0NxABIRNqsWLECIoJevXrZXQpZpHn+NgXkIpBz587hm2++wZNPPokPPvggEEMGhOYGYgAkIm2SkpIgIrj33nvtLoUs0jx/m3gVsAWaG4gBkIi02bNnD0QEzZo1s7sUskjz/G0KSADcunUrypcvH4ihAkpzAzEAEpE25j6/bt26dpdCFmmev00BCYAbNmzgjaAdhgGQiLTJyMhAaGgoKlSoYHcpZJHm+dvkkwA4cODALJcHH3yQAdBhGACJSKPixYujWLFidpdBFmmev00+CYChoaGoU6cOGjdunOly8803MwA6DAMgEWl0/fXXIyQkBBkZGXaXQhZonr9NPgmAlSpVwvTp070+n5SUxADoMAyARKTRzTffDBHB8ePH7S6FLNA8f5t8EgAfeOABPPXUU16f37BhA0JCQnwxVFDR3EAMgESkUfPmzbnvcwDN87fJJwHwwIED2LNnjy9WladobiAGQCLS6L777oOIOPYXrrTQPH+beB9ACzQ3EAMgEWn02GOPQUTw7bff2l0KWaB5/jYxAFqguYEYAIlIo2effRYignnz5tldClmgef42WQ6AxYoVw99//53t15crV84xXxdrbiAGQCLS6LXXXoOI4MMPP7S7FLJA8/xtshwAQ0JC8L///Q+LFi3K1hIVFYXk5GRf1G47zQ3EAEhEGk2ePBkigjfe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" width="640"></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(-3.0, 17.0)
</pre></div></div>
</div>
</div>
</div>
<div class="section" id="Center-of-Ewald-Shere">
<h2>Center of Ewald Shere<a class="headerlink" href="#Center-of-Ewald-Shere" title="Permalink to this headline">¶</a></h2>
<p>So far we have considered the incident wave vector to be parallel to the Z-axis. However, we need to know the center of the Ewald sphere for any zone axis.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># INPUT</span>
<span class="n">zone_hkl</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>

<span class="n">U0</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">tags</span><span class="p">[</span><span class="s1">&#39;elements&#39;</span><span class="p">])):</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">tags</span><span class="p">[</span><span class="s1">&#39;elements&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
    <span class="n">U0</span> <span class="o">+=</span> <span class="n">ks</span><span class="o">.</span><span class="n">feq</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">*</span><span class="mf">0.023933754</span>

<span class="n">volume</span> <span class="o">=</span>  <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">det</span><span class="p">(</span><span class="n">tags</span><span class="p">[</span><span class="s1">&#39;unit_cell&#39;</span><span class="p">])</span><span class="o">*</span><span class="mf">1000.</span> <span class="c1"># Needs to be in Angstrom for form factors</span>
<span class="n">AngstromConversion</span> <span class="o">=</span> <span class="mf">1.0e10</span> <span class="c1"># So [1A (in m)] * AngstromConversion = 1</span>
<span class="n">NanometerConversion</span> <span class="o">=</span> <span class="mf">1.0e9</span>

<span class="n">ScattFacToVolts</span><span class="o">=</span><span class="p">(</span><span class="n">const</span><span class="o">.</span><span class="n">h</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">AngstromConversion</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">const</span><span class="o">.</span><span class="n">m_e</span><span class="o">*</span><span class="n">const</span><span class="o">.</span><span class="n">e</span><span class="p">)</span><span class="o">*</span><span class="n">volume</span>
<span class="n">U0</span><span class="o">=</span><span class="n">U0</span><span class="o">*</span><span class="n">ScattFacToVolts</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The inner potential is </span><span class="si">{0:.1f}</span><span class="s1">kV&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">U0</span><span class="o">/</span><span class="mi">1000</span><span class="p">))</span>

<span class="n">incident_wave_vector_vacuum</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">wave_length_nm</span>
<span class="n">K0</span> <span class="o">=</span> <span class="n">incident_wave_vector</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">wave_length_nm</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">U0</span> <span class="p">)</span><span class="c1">#1/nm</span>

<span class="n">cent</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">zone_hkl</span><span class="p">,</span><span class="n">reciprocal_lattice</span><span class="p">)</span>
<span class="n">cent</span> <span class="o">=</span> <span class="n">cent</span> <span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">cent</span><span class="p">)</span><span class="o">*</span> <span class="n">incident_wave_vector</span>

<span class="n">normal</span> <span class="o">=</span> <span class="n">zone_hkl</span><span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">zone_hkl</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Center of Ewald sphere &#39;</span><span class="p">,</span><span class="n">cent</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The inner potential is 9.7kV
Center of Ewald sphere  [203.34107669 203.34107669   0.        ]
</pre></div></div>
</div>
</div>
<div class="section" id="Possible-Reflections">
<h2>Possible Reflections<a class="headerlink" href="#Possible-Reflections" title="Permalink to this headline">¶</a></h2>
<p>must be within the excitation error to the Ewald sphere.</p>
<p>Find all Miller indices whose reciprocal point lays near the Ewald sphere with radius <span class="math notranslate nohighlight">\(K_0\)</span> within a maximum excitation error <span class="math notranslate nohighlight">\(S_g\)</span></p>
<p>with <span class="math notranslate nohighlight">\(S_g \approx (K_0^2 -|\vec{K_0}+\vec{g}|^2)/ 2K_0\)</span></p>
<p>First we produce all Miller indices up to a maximum value of “hkl_max” and then we check whether they fullfil above condition.</p>
<p>Please change “hkl_max” and the maximum excitation error “Sg_max” and see what happens.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># INPUT</span>
<span class="n">hkl_max</span> <span class="o">=</span> <span class="mi">25</span><span class="c1">#  maximum allowed Miller index</span>
<span class="n">Sg_max</span> <span class="o">=</span> <span class="o">.</span><span class="mi">3</span> <span class="c1"># 1/nm  maximum allowed excitation error</span>

<span class="n">h</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">hkl_max</span><span class="p">,</span><span class="n">hkl_max</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">hkl_max</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>   <span class="c1"># all evaluated single Miller Indices</span>
<span class="n">hkl</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">h</span><span class="p">,</span><span class="n">h</span><span class="p">)</span> <span class="p">))</span> <span class="c1"># all evaluated Miller indices</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">hkl</span><span class="p">,</span><span class="n">reciprocal_lattice</span><span class="p">)</span>               <span class="c1"># all evaluated reciprocal lattice points</span>

<span class="c1"># Calculate exitation errors for all reciprocal lattice points</span>
<span class="n">S</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span>  <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">g</span><span class="p">)):</span>
    <span class="c1">## Zuo and Spence, &#39;Adv TEM&#39;, 2017 -- Eq 3:14</span>
    <span class="n">S</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">((</span><span class="n">K0</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">cent</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">K0</span><span class="p">)))</span>
<span class="n">S</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>

<span class="c1"># Determine reciprocal lattice points with excitation error less than the maximum allowed one: Sg_max</span>
<span class="n">reflections</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">S</span><span class="p">)</span><span class="o">&lt;</span> <span class="n">Sg_max</span>

<span class="n">Sg</span> <span class="o">=</span> <span class="n">S</span><span class="p">[</span><span class="n">reflections</span><span class="p">]</span>
<span class="n">g_hkl</span> <span class="o">=</span><span class="n">g</span><span class="p">[</span><span class="n">reflections</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">g_hkl</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">hkl</span> <span class="o">=</span> <span class="n">hkl</span><span class="p">[</span><span class="n">reflections</span><span class="p">]</span>

<span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Of the </span><span class="si">{0}</span><span class="s1"> tested reciprocal lattice points, </span><span class="si">{1}</span><span class="s1"> have an excitation error less than </span><span class="si">{2:.2f}</span><span class="s1"> 1/nm&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span> <span class="nb">len</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">g_hkl</span><span class="p">),</span> <span class="n">Sg_max</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(1113, 3)
Of the 132651 tested reciprocal lattice points, 1113 have an excitation error less than 0.30 1/nm
</pre></div></div>
</div>
</div>
<div class="section" id="Conclusion">
<h2>Conclusion<a class="headerlink" href="#Conclusion" title="Permalink to this headline">¶</a></h2>
<p>The scattering geometry provides all the tools to determine which reciprocal lattice points are possible and which of them are allowed and which are forbidden.</p>
</div>
<div class="section" id="Navigation">
<h2>Navigation<a class="headerlink" href="#Navigation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="Back:-Analyzing-Ring-Diffraction-Pattern">
<h3>Back: <a class="reference internal" href="CH2-Diffraction-Rings.html"><span class="doc">Analyzing Ring Diffraction Pattern</span></a><a class="headerlink" href="#Back:-Analyzing-Ring-Diffraction-Pattern" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="Next:-Plotting-of-Diffraction-Pattern">
<h3>Next: <a class="reference external" href="CH2-Plotting_Diffraction_Pattern.ipynb">Plotting of Diffraction Pattern</a><a class="headerlink" href="#Next:-Plotting-of-Diffraction-Pattern" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="Chapter-2:-Diffraction">
<h3>Chapter 2: <a class="reference external" href="CH2-_Diffraction.ipynb">Diffraction</a><a class="headerlink" href="#Chapter-2:-Diffraction" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="List-of-Content:-Front">
<h3>List of Content: <a class="reference external" href="_Analysis_of_Transmission_Electron_Microscope_Data.ipynb">Front</a><a class="headerlink" href="#List-of-Content:-Front" title="Permalink to this headline">¶</a></h3>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">MSE672: Introduction to TEM</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Course Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Diffraction</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Gerd Duscher.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.4.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/Diffraction/CH2-Kinematic_Scattering_Geometry.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>